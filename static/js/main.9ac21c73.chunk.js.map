{"version":3,"sources":["components/home/assets/Roam-Group-min.png","components/home/assets/HujakHujakProd.png","components/rsCloneServiceContext/index.ts","components/rsCloneServiceContext/rsCloneServiceContext.ts","store/utils/index.ts","services/RSClone.service.ts","store/actions/actions.ts","store/actionsCreators/actionsCreators.ts","components/home/RegistrationForm.tsx","components/home/LoginFrom.tsx","components/home/Home.tsx","components/home/index.ts","components/pages/main-page/MainPage.tsx","components/search-input/SearchInput.tsx","components/navbar/Navbar.tsx","components/containers/main/Main.tsx","components/pages/application-page/graph-overview/GraphOverview.tsx","components/pages/application-page/all-pages/all-pages-servi—Åe.tsx","components/pages/application-page/all-pages/switch.tsx","components/pages/application-page/all-pages/menu.tsx","components/pages/application-page/all-pages/search.tsx","components/pages/application-page/all-pages/alertDialog.tsx","components/pages/application-page/all-pages/excel.tsx","components/pages/application-page/all-pages/AllPages.tsx","components/sidebar/UserSettings.tsx","components/sidebar/GraphNavigation.tsx","components/pages/application-page/shorcuts/ShortcutList.tsx","components/sidebar/ReDrawer.tsx","components/sidebar/Sidebar.tsx","helpers/notes.helper.ts","components/note/pageReadOnly/PageReadOnly.tsx","components/note/page/Page.tsx","components/note/Note.tsx","components/pages/application-page/daily-notes/DailyNotes.tsx","components/note/parentsLIst/parentsListItem/ParentsListItem.tsx","components/note/parentsLIst/ParentsList.tsx","components/pages/application-page/single-note/SingleNote.tsx","components/rightbar/Rightbar.tsx","components/pages/application-page/notification/Notification.tsx","components/pages/application-page/ApplicationPage.tsx","components/routes/PrivateRoute.tsx","components/app/App.tsx","store/reducers/reducer.ts","index.tsx"],"names":["RSCloneServiceContext","React","createContext","selectNote","title","list","find","item","getEmptyNote","body","pageId","pageLink","pagePath","content","neighbors","nestedPages","textInputHeight","updateNoteParents","note","currentPage","parents","JSON","stringify","value","parentIndex","findIndex","parent","parentsCopy","contentIndex","updatedContent","splice","updatedParent","getAuthToken","authToken","localStorage","getItem","Error","RSCloneService","getResource","url","options","a","fetch","response","ok","status","headers","get","json","login","data","console","log","method","res","setItem","token","logout","Authorization","removeItem","createUser","deleteUser","getUser","email","username","name","shortcuts","updateUser","Object","keys","length","addNote","DATA","_id","updateNote","id","getNote","deleteNote","getNotes","getNoteByTitle","getPreviousDailyNote","userUpdatePassword","CHANGE_FOCUS_ELEMENT","UPDATE_NOTE_BODY","USER_LOGGED_IN","USER_LOGGED_OUT","GET_USER_DATA","ADD_SHORTCUT","REMOVE_SHORTCUT","CLOSE_SIDEBAR","OPEN_SIDEBAR","OPEN_RIGHT_SIDEBAR","CLOSE_RIGHT_SIDEBAR","ADD_NOTE","SET_CURRENT_NOTE","TOGGLE_LOADER","SET_NOTIFICATION","updateNestedPagesPath","newRootPath","i","childOldPath","childNewPath","slice","type","userLoggedIn","user","userData","toggleLoader","isLoading","payload","setNotification","notification","useStyles","makeStyles","createStyles","textField","padding","connect","isLoggedIn","onUserLoggedIn","classes","useState","password","setData","history","useHistory","service","useContext","onInputChange","event","target","className","onSubmit","preventDefault","then","push","TextField","onChange","label","variant","required","Button","onSubmitForm","loginButton","textTransform","color","fontWeight","fontSize","backgroundColor","signUpButton","marginTop","paddingLeft","paddingRight","fontFamily","letterSpacing","registrationForm","width","height","position","left","top","divider","Home","signUpOpen","setSignUpOpen","signInOpen","setSignInOpen","signUpModalBody","singInModalBody","src","hujakIcon","alt","onClick","Modal","open","onClose","roamGroup","href","rel","Avatar","Divider","orientation","MainPage","theme","search","borderRadius","fade","palette","common","black","marginRight","float","breakpoints","up","marginLeft","spacing","searchIcon","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","transition","transitions","create","SearchInput","InputBase","placeholder","root","input","inputProps","calendar","compose","withRouter","onAddShortcut","onRemoveShortcut","onCloseRightSidebar","onOpenRightSidebar","pathname","location","useSelector","state","setOpen","useEffect","IconButton","includes","exec","filter","el","Main","children","getNodes","map","nodes","edges","forEach","from","to","window","innerHeight","document","documentElement","clientHeight","toString","mapDispatchToProps","props","notes","setNotes","link","setLink","sidebarIsOpen","graphData","getInfo","innerWidth","clientWidth","graphWidth","autoResize","locale","fixed","font","shape","arrows","enabled","scaling","layout","hierarchical","style","graph","events","click","getRows","wordCount","mainT","count","Array","isArray","par","split","innerPar","innerPar2","countWords","mentions","updated","Date","modification_notes","modified_on","toLocaleDateString","year","month","day","created","d","fortnightAway","date","getDate","getMonth","nth","getFullYear","formatDate","SwitchLabels","text","handleChange","FormGroup","row","FormControlLabel","control","Switch","checked","StyledMenu","withStyles","paper","border","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","primary","main","white","MenuItem","CustomizedMenus","anchorEl","setAnchorEl","Tooltip","arrow","aria-haspopup","currentTarget","keepMounted","Boolean","ListItemText","checkedA","checkedB","checkedC","checkedD","opacity","rowsInfo","initialRows","rows","setRows","toLowerCase","StyledButton","minWidth","AlertDialog","selected","deleteRows","isVisible","selectedValue","setSelectedValue","handleClose","noteQ","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","List","words","ListItem","secondary","DialogActions","autoFocus","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","minHeight","Download","this","element","Component","textAlign","align","justifySelf","cursor","CustomLoadingOverlay","LinearProgress","setState","allInfo","setAllInfo","notBeingDeleted","setNotBeingDeleted","DisplayDailyNotes","setDisplayDailyNotes","setIsVisible","calendarText","setCalendarText","reduxState","cleanupFunction","info","error","message","columns","updatedColumns","entries","updates","field","headerName","flex","col","ind","sortable","headerClassName","renderCell","params","changeColumns","autoHeight","autoHeightMin","autoHeightMax","curr","w","density","disableColumnMenu","disableSelectionOnClick","checkboxSelection","onRowClick","param","onRowSelected","isSelected","index","components","loadingOverlay","loading","setUserData","dataState","setDataState","old_password","new_password","confirm","passwordData","setPasswordData","onDataStateChange","form","e","onChangePassword","expandIcon","menu","zIndex","modalContent","transform","modal","onUserLoggedOut","openModal","setOpenModal","onCloseMenu","role","tabIndex","htmlColor","viewBox","disableEnforceFocus","Popover","MenuList","autoFocusItem","ShortcutsList","shortcut","textDecoration","linkItem","toolbar","mixins","hideButton","listItemText","listIcon","listItemWithoutLink","flexDirection","listItemShortcutsTitleContainer","ReDrawer","toggleSideBar","aria-controls","Link","component","RouterLink","button","ListItemIcon","drawerWidth","drawer","flexShrink","appBar","drawerPaper","showButton","getUserData","onCloseSidebar","onOpenSidebar","userShortcuts","takeUserData","toggleSidebar","aria-label","Drawer","getLinkContent","str","replace","generateAst","iter","subStr","acc","linkStart","linkEnd","newAcc","substring","getHtmlMarkup","ast","createElement","key","shortid","TemplateReadOnly","mapStateToProps","ownProps","currentNote","focusComponentPath","addNeighbor","noteTitle","newPageId","newNeighborPath","newNeighbor","pageParentList","becomeChild","newParentPage","newChildPageIndex","newChildPagePath","newChildPage","removePage","newFocusComponentPath","getFocusPathOnRemove","levelUp","newPageParentList","updateContent","pageLinks","promises","dispatch","Promise","all","catch","addChild","newChildPath","newChild","updateIds","changeFocusElement","direction","newFocusPath","setFocusElement","Page","childrenComponents","pageContent","setContent","inputCursorPosition","setCursorPosition","showNestedPages","setNestedPagesVisibility","textInput","editor","selectionStart","selectionEnd","onChangeFocusElement","arr","NewPage","generate","onUpdateContent","currentPageLink","match","ref","textarea","focus","autosize","onBlur","nativeEvent","newStrArr","join","onKeyDown","contentValue","ArrowDropDown","ArrowRight","Note","isSaving","setCurrentNote","renderPage","bind","page","contentFromRedux","titleClick","disabled","saveNote","todayTitle","moment","format","scrollEnd","isDaily","notesList","init","setInit","todayNote","noteByTitle","onScrollEnd","lastPageId","NewNote","onScroll","values","srcElement","scrollTop","scrollHeight","ParentsListItem","toggleNestedPagesVisibility","ParentsList","singleNote","setNote","Rightbar","Notification","setMessage","show","setShow","toastr","msg","args","NotificationManager","success","warning","getNotification","ApplicationPage","path","rightSidebarIsOpen","DailyNotes","exact","Graph","AllPages","render","CircularProgress","size","PrivateRoute","rest","rsCloneService","App","Provider","reducer","action","noteIndex","updatedNotes","initialState","composedEnhancer","applyMiddleware","thunkMiddleware","store","createStore","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9ac21c73.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Roam-Group-min.c6c7267c.png\";","export default __webpack_public_path__ + \"static/media/HujakHujakProd.6d379f3d.png\";","import RSCloneServiceContext from './rsCloneServiceContext';\n\nexport default RSCloneServiceContext;\n","import React from 'react';\nimport RSCloneService from '../../services/RSClone.service';\n\nconst RSCloneServiceContext = React.createContext<RSCloneService>({} as RSCloneService);\n\nexport default RSCloneServiceContext;\n","import { INote, IPage, IParent } from '../../models/notes.model';\n\nconst DEFAULT_TEXT_INPUT_HEIGHT = 24;\nconst DEFAULT_PAGE_ID = 0;\n\nconst selectNote = (title: string, list: INote[]): INote | null => {\n  const note = list.find((item: INote) => item.title === title);\n  return note || null;\n};\n\nconst getEmptyNote = (title: string): INote => ({\n  title,\n  body: [\n    {\n      pageId: DEFAULT_PAGE_ID,\n      pageLink: '',\n      pagePath: [DEFAULT_PAGE_ID],\n      content: '',\n      neighbors: [],\n      nestedPages: [],\n      textInputHeight: DEFAULT_TEXT_INPUT_HEIGHT,\n    },\n  ],\n});\n// state.notes, action.title, action.body, action.pageLinks\nconst updateNoteByTitle = (\n  notes: INote[],\n  title: string,\n  updatedBody: IPage[],\n  pageLinks: any[],\n): INote[] => {\n  const notesCopy: INote[] = [...notes];\n  const noteIndex = notesCopy.findIndex((item: INote) => item.title === title);\n\n  const selectedNote = selectNote(title, notes);\n\n  const updatedNote: INote = {\n    ...(selectedNote as INote),\n    body: updatedBody,\n    parents: [...((selectedNote as INote).parents || []), ...pageLinks],\n  };\n\n  if (noteIndex > -1) {\n    notesCopy.splice(noteIndex, 1, updatedNote);\n  }\n\n  return notesCopy;\n};\n\nconst updateNoteParents = (\n  note: INote, title: string, content: string, currentPage: IPage,\n): IParent[] => {\n  // [...(note.parents || []), { pageLink: noteTitle, content: [content] }]\n  if (!note.parents) {\n    return [{\n      pageLink: title,\n      content: [\n        {\n          pagePath: JSON.stringify(currentPage.pagePath),\n          value: content,\n        },\n      ],\n    }];\n  }\n\n  const parentIndex: number = note.parents\n    .findIndex((parent: IParent) => parent.pageLink === title);\n\n  if (parentIndex === -1) {\n    return [...note.parents,\n      // { pageLink: title, content: [content] }\n      {\n        pageLink: title,\n        content: [\n          {\n            pagePath: JSON.stringify(currentPage.pagePath),\n            value: content,\n          },\n        ],\n      },\n    ];\n  }\n\n  const parentsCopy: IParent[] = [...note.parents];\n  const contentIndex = parentsCopy[parentIndex]\n    .content\n    .findIndex(\n      (item: {\n        pagePath: string, value: string\n      }) => JSON.stringify(currentPage.pagePath) === item.pagePath,\n    );\n\n  let updatedContent = [...parentsCopy[parentIndex].content];\n\n  if (contentIndex > -1) {\n    // updatedContent = parentsCopy[parentIndex].content;\n    updatedContent.splice(contentIndex, 1, updatedContent[contentIndex]);\n    updatedContent[contentIndex].value = content;\n  } else {\n    updatedContent = [...updatedContent,\n      {\n        pagePath: JSON.stringify(currentPage.pagePath),\n        value: content,\n      },\n    ];\n  }\n\n  const updatedParent: IParent = {\n    pageLink: parentsCopy[parentIndex].pageLink,\n    content: [...updatedContent],\n  };\n\n  parentsCopy.splice(parentIndex, 1, updatedParent);\n  return parentsCopy;\n};\n\nexport {\n  selectNote, getEmptyNote, updateNoteByTitle, updateNoteParents,\n};\n","export interface NoteInfo {\n    id: number,\n    name: string\n}\n\nexport interface AddNoteRequest {\n    title: string,\n    body: object,\n    parents?: Array<NoteInfo>\n}\n\nexport interface UpdateNoteRequest {\n    title?: string,\n    body?: object,\n    parents?: Array<NoteInfo>\n}\n\nexport interface UpdateUserRequest {\n    email?: string,\n    name?: string,\n    password?: string,\n    shortcuts?: string[]\n}\n\nexport interface CreateUserRequest {\n    name: string,\n    password: string,\n    email: string,\n}\n\nexport interface LogInUserRequest {\n    password: string,\n    email: string,\n}\n\nexport type UserData = {\n    email: string,\n    username: string,\n    shortcuts: string[],\n}\n\nexport type PasswordData = {\n    // eslint-disable-next-line camelcase\n    old_password: string,\n    // eslint-disable-next-line camelcase\n    new_password: string,\n}\n\nconst getAuthToken = (): string => {\n  const authToken = localStorage.getItem('auth-token');\n  if (!authToken) {\n    throw new Error('authToken is not defined or you are not authorized. Check localStorage');\n  }\n  return authToken;\n};\n\nexport default class RSCloneService {\n    getResource = async (url: string, options: object) => {\n      const response = await fetch(`${url}`, options);\n      if (!response.ok) {\n        throw new Error(`Could not fetch ${url}, received ${response.status}`);\n      }\n      if (!response.headers.get('content-type')) {\n        return {};\n      }\n      return response.json();\n    }\n\n    login = async (data: LogInUserRequest) => {\n      console.log('request');\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      };\n      const res = await this.getResource('/api/login', options);\n      localStorage.setItem('auth-token', res.token);\n      return res;\n    }\n\n    logout = async () => {\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      await this.getResource('/api/logout', options);\n      localStorage.removeItem('auth-token');\n      return true;\n    }\n\n    createUser = async (data: CreateUserRequest) => {\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      };\n      return this.getResource('/api/user', options);\n    }\n\n    deleteUser = async () => {\n      const options = {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      await this.getResource('/api/user/me', options);\n      localStorage.removeItem('auth-token');\n      return true;\n    }\n\n    getUser = async (): Promise<UserData> => {\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      const res = await this.getResource('/api/user/me', options);\n      return {\n        email: res.email,\n        username: res.name,\n        shortcuts: res.shortcuts,\n      };\n    }\n\n    updateUser = async (data: UpdateUserRequest) => {\n      if (Object.keys(data).length === 0) {\n        throw new Error('At least one field is required');\n      }\n      const options = {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n        body: JSON.stringify(data),\n      };\n      return this.getResource('/api/user/me', options);\n    }\n\n    addNote = async (data: AddNoteRequest) => {\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n        body: JSON.stringify(data),\n      };\n      const response = await this.getResource('/api/note', options);\n      // eslint-disable-next-line no-underscore-dangle\n      return response.DATA._id;\n    }\n\n    updateNote = async (data: UpdateNoteRequest, id: string) => {\n      const options = {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n        body: JSON.stringify(data),\n      };\n      return this.getResource(`/api/note/${id}`, options);\n    }\n\n    getNote = async (id: string) => {\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      return this.getResource(`/api/note/${id}`, options);\n    }\n\n    deleteNote = async (id: string | number) => {\n      const options = {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      return this.getResource(`/api/note/${id}`, options);\n    }\n\n    getNotes = async () => {\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      return this.getResource('/api/notes', options);\n    }\n\n    getNoteByTitle = async (title: string) => {\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      return this.getResource(`/api/note/title/${title}`, options);\n    }\n\n    getPreviousDailyNote = async (id: string) => {\n      const options = {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n      };\n      return this.getResource(`/api/note/daily/${id}`, options);\n    }\n\n    userUpdatePassword = async (data: PasswordData) => {\n      const options = {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getAuthToken()}`,\n        },\n        body: JSON.stringify(data),\n      };\n      return this.getResource('/api/user/me/password', options);\n    }\n}\n","const ADD_NEIGHBOR = 'ADD_NEIGHBOR';\nconst CHANGE_FOCUS_ELEMENT = 'CHANGE_FOCUS_ELEMENT';\nconst UPDATE_NOTE_BODY = 'UPPDATE_NOTE_BODY';\nconst USER_LOGGED_IN = 'USER_LOGGED_IN';\nconst USER_LOGGED_OUT = 'USER_LOGGED_OUT';\nconst GET_USER_DATA = 'GET_USER_DATA';\nconst ADD_SHORTCUT = 'ADD_SHORTCUT';\nconst REMOVE_SHORTCUT = 'REMOVE_SHORTCUT';\nconst CLOSE_SIDEBAR = 'CLOSE_SIDEBAR';\nconst OPEN_SIDEBAR = 'OPEN_SIDEBAR';\nconst OPEN_RIGHT_SIDEBAR = 'OPEN_RIGHT_SIDEBAR';\nconst CLOSE_RIGHT_SIDEBAR = 'CLOSE_RIGHT_SIDEBAR';\n\nconst ADD_NOTE = 'ADD_NOTE';\nconst SET_CURRENT_NOTE = 'SET_CURRENT_NOTE';\n\nconst UPDATE_CONTENT = 'UPDATE_CONTENT';\nconst UPDATE_CONTENT_REQUESTED = 'UPDATE_CONTENT_REQUESTED';\nconst UPDATE_CONTENT_RECEIVED = 'UPDATE_CONTENT_RECEIVED';\nconst UPDATE_CONTENT_FAILED = 'UPDATE_CONTENT_FAILED';\n\nconst TOGGLE_LOADER = 'TOGGLE_LOADER';\nconst SET_NOTIFICATION = 'SET_NOTIFICATION';\n\nexport {\n  ADD_NEIGHBOR,\n  CHANGE_FOCUS_ELEMENT,\n  ADD_NOTE,\n  UPDATE_NOTE_BODY,\n  USER_LOGGED_IN,\n  USER_LOGGED_OUT,\n  UPDATE_CONTENT_REQUESTED,\n  UPDATE_CONTENT_RECEIVED,\n  UPDATE_CONTENT_FAILED,\n  UPDATE_CONTENT,\n  GET_USER_DATA,\n  ADD_SHORTCUT,\n  CLOSE_SIDEBAR,\n  OPEN_SIDEBAR,\n  SET_CURRENT_NOTE,\n  OPEN_RIGHT_SIDEBAR,\n  CLOSE_RIGHT_SIDEBAR,\n  REMOVE_SHORTCUT,\n  TOGGLE_LOADER,\n  SET_NOTIFICATION,\n};\n","/* eslint-disable no-underscore-dangle */\nimport { getEmptyNote, updateNoteParents } from '../utils';\nimport RSCloneService from '../../services/RSClone.service';\nimport { INote, INotification, IPage } from '../../models/notes.model';\nimport {\n  ADD_NOTE,\n  CHANGE_FOCUS_ELEMENT,\n  UPDATE_CONTENT_REQUESTED,\n  UPDATE_CONTENT_RECEIVED,\n  UPDATE_CONTENT_FAILED,\n  UPDATE_NOTE_BODY,\n  USER_LOGGED_IN,\n  UPDATE_CONTENT,\n  SET_CURRENT_NOTE,\n  USER_LOGGED_OUT,\n  GET_USER_DATA,\n  ADD_SHORTCUT,\n  CLOSE_SIDEBAR,\n  OPEN_SIDEBAR,\n  CLOSE_RIGHT_SIDEBAR,\n  OPEN_RIGHT_SIDEBAR, REMOVE_SHORTCUT, TOGGLE_LOADER, SET_NOTIFICATION,\n} from '../actions/actions';\n// import { onUserLoggedInType } from '../../components/home/LoginFrom';\n\nexport type PagePath = number | string;\n\nconst TEXT_INPUT_HEIGHT = 24;\n\nconst updateNestedPagesPath = (\n  newRootPath: PagePath[],\n  nestedPages: IPage[],\n): void => {\n  for (let i = 0; i < nestedPages.length; i += 1) {\n    const childOldPath: (string | number)[] = nestedPages[i].pagePath;\n    const childNewPath: (string | number)[] = [\n      ...newRootPath,\n      ...childOldPath.slice(-2),\n    ];\n    // eslint-disable-next-line no-param-reassign\n    nestedPages[i].pagePath = childNewPath;\n    if (nestedPages[i].nestedPages.length > 0) {\n      // eslint-disable-next-line no-unused-vars\n      updateNestedPagesPath(childNewPath, nestedPages[i].nestedPages);\n    }\n  }\n};\n\nconst getFocusPathOnRemove = (pagePath: PagePath[]) => {\n  const pageId: number = pagePath.slice(-1)[0] as number;\n  if (pageId === 0) {\n    return pagePath.slice(0, -2);\n  }\n\n  return [...pagePath.slice(0, -1), pageId - 1];\n};\n\nconst updateIds = (nestedPages: IPage[]): void => {\n  for (let i = 0; i < nestedPages.length - 1; i += 1) {\n    // eslint-disable-next-line no-param-reassign\n    nestedPages[i].pageId = i;\n    // eslint-disable-next-line no-param-reassign\n    nestedPages[i].pagePath = [...nestedPages[i].pagePath.slice(-1), i];\n  }\n};\n\nfunction addNeighbor(\n  body: any,\n  params: { currentPage: IPage; list: IPage[]; noteTitle: string },\n) {\n  // eslint-disable-next-line no-debugger\n  // debugger;\n  const { list, currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n  const newPageId: number = list.length;\n  const newNeighborPath: PagePath[] = [...pagePath.slice(0, -1), newPageId];\n  const newNeighbor: IPage = {\n    pageId: newPageId,\n    pageLink: '',\n    pagePath: newNeighborPath,\n    content: '',\n    nestedPages: [],\n    textInputHeight: TEXT_INPUT_HEIGHT,\n  };\n\n  let pageParentList: any = body;\n  for (let i = 0; i < pagePath.length - 1; i += 1) {\n    pageParentList = pageParentList[pagePath[i]];\n  }\n\n  // pageParentList.splice(currentPage.pageId + 1, 0, newNeighbor);\n  pageParentList.push(newNeighbor);\n  // for (let i = 0; i < pageParentList.length; i += 1) {\n  //   pageParentList[i] = {\n  //     ...pageParentList[i],\n  //     pageId: i,\n  //     content: `${i} Inner page content`,\n  //     pagePath: [...pageParentList[i].pagePath.slice(0, -1), i],\n  //   };\n  // }\n  return {\n    type: UPDATE_NOTE_BODY,\n    body: [...body],\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newNeighborPath },\n  };\n}\n\nfunction becomeChild(\n  body: any,\n  params: { currentPage: IPage; noteTitle: string },\n) {\n  const { currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n  let pageParentList: any = body;\n  for (let i = 0; i < pagePath.length - 1; i += 1) {\n    pageParentList = pageParentList[pagePath[i]];\n  }\n\n  const newParentPageIndex: number = (pagePath.slice(-1)[0] as number) - 1;\n  const newParentPage: IPage = pageParentList[newParentPageIndex];\n\n  const newChildPageIndex: number = newParentPage.nestedPages.length;\n  const newChildPagePath: (string | number)[] = [\n    ...newParentPage.pagePath,\n    'nestedPages',\n    newChildPageIndex,\n  ];\n  const newChildPage: IPage = {\n    ...currentPage,\n    pageId: newChildPageIndex,\n    pagePath: newChildPagePath,\n  };\n\n  updateNestedPagesPath(newChildPage.pagePath, newChildPage.nestedPages);\n\n  newParentPage.nestedPages.push(newChildPage);\n  pageParentList.splice(currentPage.pageId, 1);\n\n  for (let i = 0; i < pageParentList.length; i += 1) {\n    pageParentList[i] = {\n      ...pageParentList[i],\n      pageId: i,\n      pagePath: [...pageParentList[i].pagePath.slice(0, -1), i],\n    };\n  }\n\n  return {\n    type: UPDATE_NOTE_BODY,\n    body: [...body],\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newChildPagePath },\n  };\n}\n\nfunction removePage(\n  body: any,\n  params: { currentPage: IPage; noteTitle: string },\n) {\n  const { currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n  let pageParentList: any = body;\n  for (let i = 0; i < pagePath.length - 1; i += 1) {\n    pageParentList = pageParentList[pagePath[i]];\n  }\n  pageParentList.splice(currentPage.pageId, 1);\n\n  for (let i = 0; i < pageParentList.length; i += 1) {\n    pageParentList[i] = {\n      ...pageParentList[i],\n      pageId: i,\n      pagePath: [...pageParentList[i].pagePath.slice(0, -1), i],\n    };\n  }\n\n  const newFocusComponentPath: (string | number)[] = getFocusPathOnRemove(\n    pagePath,\n  );\n  return {\n    type: UPDATE_NOTE_BODY,\n    body: [...body],\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newFocusComponentPath },\n  };\n}\n\nfunction levelUp(body: any, params: { currentPage: IPage; noteTitle: string }) {\n  const { currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n  let pageParentList: any = body;\n  for (let i = 0; i < pagePath.length - 1; i += 1) {\n    pageParentList = pageParentList[pagePath[i]];\n  }\n\n  let newPageParentList: any = body;\n  for (let i = 0; i < pagePath.length - 3; i += 1) {\n    newPageParentList = newPageParentList[pagePath[i]];\n  }\n\n  const newChildPageIndex: number = newPageParentList.length;\n  const newChildPagePath: (string | number)[] = [\n    ...currentPage.pagePath.slice(0, -3),\n    newChildPageIndex,\n  ];\n\n  const newChildPage: IPage = {\n    ...currentPage,\n    pageId: newChildPageIndex,\n    pagePath: newChildPagePath,\n  };\n\n  updateNestedPagesPath(newChildPage.pagePath, newChildPage.nestedPages);\n\n  newPageParentList.push(newChildPage);\n  pageParentList.splice(currentPage.pageId, 1);\n\n  for (let i = 0; i < pageParentList.length; i += 1) {\n    pageParentList[i] = {\n      ...pageParentList[i],\n      pageId: i,\n      pagePath: [...pageParentList[i].pagePath.slice(0, -1), i],\n    };\n  }\n  return {\n    type: UPDATE_NOTE_BODY,\n    body: [...body],\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newChildPagePath },\n  };\n}\n\nfunction addChild(\n  body: any,\n  params: { currentPage: IPage; noteTitle: string },\n) {\n  const { currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n\n  const newPageId: number = 0;\n  const newChildPath: PagePath[] = [...pagePath, 'nestedPages', newPageId];\n  const newChild: IPage = {\n    pageId: newPageId,\n    pageLink: '',\n    pagePath: newChildPath,\n    content: '',\n    nestedPages: [],\n    textInputHeight: TEXT_INPUT_HEIGHT,\n  };\n\n  currentPage.nestedPages.push(newChild);\n\n  updateIds(currentPage.nestedPages);\n  updateNestedPagesPath(currentPage.pagePath, currentPage.nestedPages);\n\n  return {\n    type: UPDATE_NOTE_BODY,\n    body: [...body],\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newChildPath },\n  };\n}\n\nfunction changeFocusElement(\n  direction: string,\n  body: any,\n  params: { currentPage: IPage; list: IPage[]; noteTitle: string },\n) {\n  const { currentPage, list, noteTitle } = params;\n  const { pagePath, pageId } = currentPage;\n\n  let newFocusPath: PagePath[];\n\n  if (direction === 'up') {\n    if (pageId > 0) {\n      newFocusPath = [...pagePath.slice(0, -1), pageId - 1];\n    } else {\n      newFocusPath = pagePath.length > 1 ? [...pagePath.slice(0, -2)] : [...pagePath];\n    }\n  } else if (pageId >= list.length - 1) {\n    newFocusPath = [...pagePath];\n  } else {\n    newFocusPath = [...pagePath.slice(0, -1), pageId + 1];\n  }\n\n  return {\n    type: CHANGE_FOCUS_ELEMENT,\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: newFocusPath },\n  };\n}\n\nfunction setFocusElement(\n  params: { currentPage: IPage; list: IPage[]; noteTitle: string },\n) {\n  const { currentPage, noteTitle } = params;\n  const { pagePath } = currentPage;\n\n  return {\n    type: CHANGE_FOCUS_ELEMENT,\n    title: noteTitle,\n    focusComponentPath: { [noteTitle]: pagePath },\n  };\n}\n\n// function updateContent(body: any, params: { noteTitle: string }) {\n//   const { noteTitle } = params;\n//   return {\n//     type: UPDATE_NOTE_BODY,\n//     title: noteTitle,\n//     body: [...body],\n//   };\n// }\n\nfunction updateContent(\n  body: any,\n  params: {\n    noteTitle: string; pageLinks: string[], content: string, currentNote: INote, currentPage: IPage\n  },\n) {\n  const {\n    noteTitle, pageLinks, content, currentNote, currentPage,\n  } = params;\n  // return {\n  //   type: UPDATE_CONTENT,\n  //   title: noteTitle,\n  //   body: [...body],\n  // };\n  // eslint-disable-next-line func-names\n  if (!pageLinks) {\n    return {\n      type: UPDATE_CONTENT,\n      title: noteTitle,\n      body: [...body],\n    };\n  }\n\n  const service = new RSCloneService();\n\n  const promises = pageLinks.map(async (item: string) => {\n    const link = item.replace(/\\[/gi, '').replace(/\\]/gi, '');\n    const res = await service.getNoteByTitle(link);\n    let note: INote = res.DATA;\n    let id: string;\n    if (!note) {\n      note = getEmptyNote(link);\n      id = await service.addNote(note);\n      // eslint-disable-next-line no-underscore-dangle\n      note._id = id;\n    }\n\n    // –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ parents —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É\n    // –≤ –≤–∏–¥–µ { parentTitle: string; content: string[] }\n    note.parents = updateNoteParents(note, noteTitle, content, currentPage);\n    await service.updateNote(note, (note._id as string));\n    return { id: note._id, title: link };\n  });\n  // eslint-disable-next-line func-names\n  return function (dispatch: any) {\n    dispatch({\n      type: UPDATE_CONTENT_REQUESTED,\n    });\n\n    service.updateNote(currentNote, (currentNote._id as string))\n      .then(() => Promise.all(promises))\n      .then((data) => {\n        dispatch({\n          type: UPDATE_CONTENT_RECEIVED,\n          payload: { pageLinks: data, title: noteTitle, body },\n        });\n      })\n      .catch((error) => {\n        dispatch({\n          type: UPDATE_CONTENT_FAILED,\n          payload: error,\n        });\n      });\n  };\n}\n\nfunction addNote(note: INote) {\n  return {\n    type: ADD_NOTE,\n    note,\n  };\n}\n\nfunction setCurrentNote(note: INote) {\n  return {\n    type: SET_CURRENT_NOTE,\n    note,\n  };\n}\n\nconst userLoggedIn = (data: any) => {\n  localStorage.setItem('username', data.user.name);\n  localStorage.setItem('email', data.user.email);\n\n  return {\n    type: USER_LOGGED_IN,\n    userData: {\n      username: data.user.name,\n      email: data.user.email,\n    },\n  };\n};\n\nconst userLoggedOut = () => {\n  localStorage.removeItem('username');\n  localStorage.removeItem('email');\n  localStorage.removeItem('auth-token');\n  return {\n    type: USER_LOGGED_OUT,\n    isLoggedIn: false,\n  };\n};\n\nconst getUserData = (data: any) => ({\n  type: GET_USER_DATA,\n  payload: data,\n});\n\nconst addShortcut = (data: string) => ({\n  type: ADD_SHORTCUT,\n  payload: data,\n});\n\nconst removeShortcut = (data: string[]) => ({\n  type: REMOVE_SHORTCUT,\n  payload: data,\n});\n\nconst onCloseSidebar = () => ({\n  type: CLOSE_SIDEBAR,\n});\n\nconst onOpenSidebar = () => ({\n  type: OPEN_SIDEBAR,\n});\n\nconst onCloseRightSidebar = () => ({\n  type: CLOSE_RIGHT_SIDEBAR,\n  payload: false,\n\n});\n\nconst onOpenRightSidebar = () => ({\n  type: OPEN_RIGHT_SIDEBAR,\n  payload: true,\n});\n\nconst toggleLoader = (isLoading: boolean) => ({\n  type: TOGGLE_LOADER,\n  payload: isLoading,\n});\n\nconst setNotification = (notification: INotification) => ({\n  type: SET_NOTIFICATION,\n  payload: notification,\n});\n\nexport {\n  removePage,\n  addNeighbor,\n  becomeChild,\n  levelUp,\n  updateContent,\n  addChild,\n  changeFocusElement,\n  addNote,\n  userLoggedIn,\n  userLoggedOut,\n  getUserData,\n  addShortcut,\n  onCloseSidebar,\n  onOpenSidebar,\n  setFocusElement,\n  setCurrentNote,\n  onCloseRightSidebar,\n  onOpenRightSidebar,\n  removeShortcut,\n  toggleLoader,\n  setNotification,\n};\n","import React, { useState, useContext } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport TextField from '@material-ui/core/TextField';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\nimport { userLoggedIn } from '../../store/actionsCreators/actionsCreators';\n// import { onUserLoggedInType } from './LoginFrom';\n\nconst useStyles = makeStyles(() => createStyles({\n  textField: {\n    padding: '7px',\n  },\n}));\n\ninterface IRegistrationForm {\n    name: string,\n    email: string,\n    password: string\n}\n\nconst RegistrationForm = (\n  { isLoggedIn, onUserLoggedIn } : {isLoggedIn: boolean, onUserLoggedIn: any},\n) => {\n  const classes = useStyles();\n  const [data, setData] = useState<IRegistrationForm>({\n    name: '',\n    email: '',\n    password: '',\n  });\n\n  const history = useHistory();\n  const service = useContext(RSCloneServiceContext);\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const onSubmitForm = (event: React.ChangeEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    service.createUser(data).then(async () => {\n      console.log(isLoggedIn);\n      await service.login(data)\n        .then(async (userData: object) => {\n          onUserLoggedIn(userData);\n          history.push('/app');\n        });\n    });\n  };\n\n  return (\n    <form className=\"registration\" onSubmit={onSubmitForm}>\n      <TextField name=\"name\" className={classes.textField} onChange={onInputChange} label=\"username\" variant=\"outlined\" required />\n      <TextField name=\"email\" className={classes.textField} onChange={onInputChange} label=\"e-mail\" variant=\"outlined\" type=\"email\" required />\n      <TextField name=\"password\" className={classes.textField} onChange={onInputChange} label=\"password\" variant=\"outlined\" type=\"password\" required />\n      <Button type=\"submit\" variant=\"outlined\">Register</Button>\n    </form>\n  );\n};\n\nconst mapStateToProps = ({ isLoggedIn } : {isLoggedIn: boolean}) => ({\n  isLoggedIn,\n});\n\nexport default connect(mapStateToProps, { onUserLoggedIn: userLoggedIn })(RegistrationForm);\n","import React, { useState, useContext } from 'react';\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport TextField from '@material-ui/core/TextField';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\nimport { userLoggedIn } from '../../store/actionsCreators/actionsCreators';\n\nconst useStyles = makeStyles(() => createStyles({\n  textField: {\n    padding: '7px',\n  },\n}));\n\ntype ILoginForm = {\n    email: string,\n    password: string\n}\n\ntype userData = {\n    type: string,\n    userData: {\n        username: string,\n        email: string\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nexport type onUserLoggedInType = (data: object) => userData\n\nconst LoginForm = ({ onUserLoggedIn }: { onUserLoggedIn: any }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const service = useContext(RSCloneServiceContext);\n\n  const [data, setData] = useState<ILoginForm>({\n    email: '',\n    password: '',\n  });\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const onSubmitForm = async (event: any) => {\n    event.preventDefault();\n    await service.login(data)\n      .then((res: object) => {\n        onUserLoggedIn(res);\n        history.push('/app');\n      });\n  };\n\n  return (\n    <form className=\"registration\" onSubmit={onSubmitForm}>\n      <TextField name=\"email\" className={classes.textField} onChange={onInputChange} label=\"e-mail\" variant=\"outlined\" type=\"email\" required />\n      <TextField name=\"password\" className={classes.textField} onChange={onInputChange} label=\"password\" variant=\"outlined\" type=\"password\" required />\n      <Button type=\"submit\" variant=\"outlined\">Sign In</Button>\n    </form>\n  );\n};\n\nconst mapStateToProps = ({ isLoggedIn } : {isLoggedIn: boolean}) => ({\n  isLoggedIn,\n});\n\nexport default connect(mapStateToProps, { onUserLoggedIn: userLoggedIn })(LoginForm);\n","import React, { useState } from 'react';\nimport './home.scss';\n\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport Modal from '@material-ui/core/Modal';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport roamGroup from './assets/Roam-Group-min.png';\nimport hujakIcon from './assets/HujakHujakProd.png';\nimport RegistrationForm from './RegistrationForm';\nimport LoginForm from './LoginFrom';\n\nconst useStyles = makeStyles(() => createStyles({\n  loginButton: {\n    textTransform: 'none',\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: '15px',\n    '&:hover': {\n      backgroundColor: 'rgb(255 255 255 / 0.3)',\n    },\n  },\n  signUpButton: {\n    marginTop: '15px',\n    padding: '10px',\n    paddingLeft: '15px',\n    paddingRight: '15px',\n    fontFamily: 'Inter, sans-serif',\n    textTransform: 'none',\n    fontWeight: 'bold',\n    backgroundColor: 'rgb(19, 124, 189)',\n    letterSpacing: '0.04em',\n  },\n  registrationForm: {\n    width: '500px',\n    height: '500px',\n    backgroundColor: '#fff',\n    position: 'absolute',\n    left: '30%',\n    top: '20%',\n  },\n  divider: {\n    backgroundColor: '#ffff',\n  },\n}));\nconst Home = () => {\n  const classes = useStyles();\n  const [signUpOpen, setSignUpOpen] = useState(false);\n  const [signInOpen, setSignInOpen] = useState(false);\n\n  const onSignUpOpen = () => {\n    setSignUpOpen(true);\n  };\n\n  const onSignUpClose = () => {\n    setSignUpOpen(false);\n  };\n\n  const onSignInOpen = () => {\n    setSignInOpen(true);\n  };\n\n  const onSignInClose = () => {\n    setSignInOpen(false);\n  };\n\n  const signUpModalBody = (\n    <div className={classes.registrationForm}>\n      <RegistrationForm />\n    </div>\n  );\n\n  const singInModalBody = (\n    <div className={classes.registrationForm}>\n      <LoginForm />\n    </div>\n  );\n\n  return (\n    <div className=\"home\">\n      <div className=\"home__header\">\n        <div className=\"home__header-logo\">\n          <img width=\"20%\" src={hujakIcon} alt=\"header logo\" />\n        </div>\n        <div className=\"home__header-login\">\n          <Button className={classes.loginButton} color=\"default\" onClick={onSignInOpen}>Sign In</Button>\n          <Modal open={signInOpen} onClose={onSignInClose}>\n            {singInModalBody}\n          </Modal>\n        </div>\n      </div>\n      <div className=\"home__main\">\n        <section className=\"block\">\n          <div className=\"block__description\">\n            <div className=\"home__main_title\">\n              <span>A note-taking tool</span>\n              <span>for networked thought.</span>\n            </div>\n            <div className=\"home__main_subtitle\">\n              As easy to use as a document. As powerful as a graph database.\n              Roam helps you organize your research for the long haul.\n            </div>\n          </div>\n        </section>\n        <Button className={classes.signUpButton} variant=\"contained\" color=\"primary\" onClick={onSignUpOpen}>Sign Up</Button>\n        <Modal open={signUpOpen} onClose={onSignUpClose}>\n          {signUpModalBody}\n        </Modal>\n        <div>\n          <img width=\"100%\" src={roamGroup} alt=\"roam group\" />\n        </div>\n      </div>\n      <div className=\"home__footer\">\n        <div className=\"home__footer-createdBy\">\n          <span>Made by</span>\n          <div className=\"home__footer-avatars\">\n            <div className=\"home__footer-avatar\">\n              <a href=\"https://github.com/kornienko199004\" target=\"_blank\" rel=\"noreferrer\" className=\"home__footer-avatars_link\">\n                <Avatar alt=\"Aleksey\" src=\"https://avatars1.githubusercontent.com/u/30842914?s=460&v=4\" />\n              </a>\n              <Divider orientation=\"vertical\" variant=\"middle\" className={classes.divider} />\n            </div>\n            <div className=\"home__footer-avatar\">\n              <a href=\"https://github.com/mary-jane77\" target=\"_blank\" rel=\"noreferrer\" className=\"home__footer-avatars_link\">\n                <Avatar alt=\"Elizabeth\" src=\"https://avatars2.githubusercontent.com/u/58233456?s=460&v=4\" />\n              </a>\n              <Divider orientation=\"vertical\" variant=\"middle\" className={classes.divider} />\n            </div>\n            <div className=\"home__footer-avatar\">\n              <a href=\"https://github.com/GertValiakhmetov\" target=\"_blank\" rel=\"noreferrer\" className=\"home__footer-avatars_link\">\n                <Avatar alt=\"Gert\" src=\"https://avatars2.githubusercontent.com/u/52245456?s=460&u=0418cf1c43f231691c7a93e764f71448bc8e932a&v=4\" />\n              </a>\n              <Divider orientation=\"vertical\" variant=\"middle\" className={classes.divider} />\n            </div>\n            <div className=\"home__footer-avatar\">\n              <a href=\"https://github.com/kirill-study\" target=\"_blank\" rel=\"noreferrer\" className=\"home__footer-avatars_link\">\n                <Avatar alt=\"Kirill\" src=\"https://avatars1.githubusercontent.com/u/23706384?s=460&v=4\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import Home from './Home';\n\nexport default Home;\n","import React from 'react';\nimport './main.scss';\nimport Home from '../../home';\n\nconst MainPage = () => (\n  <Home />\n);\n\nexport default MainPage;\n","import React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport {\n  fade, makeStyles,\n  Theme, InputBase,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  search: {\n    position: 'relative',\n    borderRadius: '100px',\n    backgroundColor: fade(theme.palette.common.black, 0.15),\n    '&:hover': {\n      backgroundColor: fade('rgba(19,19,19,0.5)', 0.2),\n    },\n    marginRight: 2,\n    width: 210,\n    float: 'right',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'black',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n}));\n\nconst SearchInput = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder=\"Search‚Ä¶\"\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n        inputProps={{ 'aria-label': 'search' }}\n      />\n    </div>\n  );\n};\n\nexport default SearchInput;\n","import React, {\n  SetStateAction, useContext, useEffect, useState,\n} from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport './navbar.scss';\nimport {\n  makeStyles, createStyles,\n} from '@material-ui/core/styles';\nimport DeviceHubIcon from '@material-ui/icons/DeviceHub';\nimport TodayTwoToneIcon from '@material-ui/icons/TodayTwoTone';\nimport { withRouter } from 'react-router';\nimport StarOutlineIcon from '@material-ui/icons/StarOutline';\nimport { connect, useSelector } from 'react-redux';\nimport { compose, Dispatch } from 'redux';\nimport SearchInput from '../search-input/SearchInput';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\nimport {\n  addShortcut,\n  onCloseRightSidebar,\n  onOpenRightSidebar,\n  removeShortcut,\n} from '../../store/actionsCreators/actionsCreators';\nimport { IInitialState } from '../../index';\n\nconst useStyles = makeStyles(() => createStyles({\n  calendar: {\n    padding: 0,\n  },\n}));\n\nconst Navbar = (\n  {\n    location: { pathname },\n    onAddShortcut,\n    // eslint-disable-next-line no-shadow\n    onCloseRightSidebar,\n    // eslint-disable-next-line no-shadow\n    onOpenRightSidebar,\n    onRemoveShortcut,\n  } :\n    {\n      location: {pathname: string},\n      onAddShortcut: Dispatch<SetStateAction<any>>,\n      onCloseRightSidebar: Dispatch<SetStateAction<any>>,\n      onOpenRightSidebar: Dispatch<SetStateAction<any>>,\n      onRemoveShortcut: Dispatch<SetStateAction<any>>,\n    },\n) => {\n  const classes = useStyles();\n  const service = useContext(RSCloneServiceContext);\n  const shortcuts: string[] | null = useSelector<\n    IInitialState, Array<string>>((state) => state.shortcuts);\n  const [open, setOpen] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (shortcuts.length !== 0) {\n      service.updateUser({\n        shortcuts,\n      });\n    }\n  }, [shortcuts]);\n\n  const onFavourite = () => {\n    if (pathname) {\n      // @ts-ignore\n      const title = /[^/]*$/.exec(`${pathname}`)[0];\n      if (shortcuts.includes(title)) {\n        const payload = shortcuts.filter((el) => !(el === title));\n        onRemoveShortcut(payload);\n      } else {\n        onAddShortcut(title);\n      }\n    }\n    return false;\n  };\n\n  const onClickSidebar = () => {\n    setOpen(true);\n    // eslint-disable-next-line no-unused-expressions\n    open ? onOpenRightSidebar(true) : onCloseRightSidebar(false);\n  };\n\n  return (\n    <div className=\"header\">\n      <SearchInput />\n      <IconButton className={classes.calendar}>\n        <TodayTwoToneIcon className=\"header__calendar\" />\n      </IconButton>\n      { pathname.includes('/note/')\n        ? (\n          <>\n            <IconButton className={classes.calendar} onClick={onFavourite}>\n              <StarOutlineIcon className=\"header__favourite\" />\n            </IconButton>\n            <IconButton className={classes.calendar}>\n              <DeviceHubIcon className=\"header__favourite\" onClick={onClickSidebar} />\n            </IconButton>\n          </>\n        )\n        : null }\n    </div>\n  );\n};\n\nexport default compose(\n  withRouter,\n  connect(null, {\n    onAddShortcut: addShortcut,\n    onRemoveShortcut: removeShortcut,\n    onCloseRightSidebar,\n    onOpenRightSidebar,\n  }),\n)(Navbar);\n","import React, { ReactChildren, ReactElement } from 'react';\nimport './main.scss';\n\ninterface Props {\n    children: ReactChildren | ReactElement;\n}\n\nconst Main = ({ children }: Props) => (\n  <div className=\"main-container\">\n    {children}\n  </div>\n);\n\nexport default Main;\n","/* eslint-disable no-console */\n/* eslint-disable camelcase */\n/* eslint-disable no-underscore-dangle */\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useSelector, connect } from 'react-redux';\nimport './graphOverview.scss';\nimport Graph from 'react-graph-vis';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport RSCloneServiceContext from '../../../rsCloneServiceContext/index';\nimport { toggleLoader } from '../../../../store/actionsCreators/actionsCreators';\nimport { IInitialState } from '../../../../index';\n\ninterface ModificationNote {\n  _id: string;\n  modified_on: string;\n  modified_by: null | string;\n  modification_note: null | string;\n}\ninterface Note {\n  _id: string;\n  title: string;\n  body: object;\n  parents: Array<object>;\n  modification_notes: [ModificationNote];\n  owner: string;\n  __v: number;\n}\n\nconst getNodes = async (res: Note[]) => {\n  const nodes: {\n    id: string;\n    label: string;\n  }[] = await res.map((note: Note) => ({\n    id: note.title,\n    label: note.title,\n  }));\n  const edges: {\n    from: string;\n    to: string;\n  }[] = [];\n  res.map((note: Note) => note.parents.forEach(async (parent: any) => {\n    edges.push({\n      from: note.title,\n      to: parent.pageLink,\n    });\n  }));\n  return ({\n    nodes,\n    edges,\n  });\n};\n\nconst height = ((window.innerHeight || document.documentElement.clientHeight\n|| document.body.clientHeight) - 100).toString();\n\n// eslint-disable-next-line no-unused-vars\nconst myGraph = (props: { toggleLoader(isLoading: boolean): void }) => {\n  const [notes, setNotes] = useState(null as any);\n  const [link, setLink] = useState('');\n  const service = useContext(RSCloneServiceContext);\n  const sidebarIsOpen = useSelector<IInitialState>((state) => state.sidebarIsOpen);\n\n  if (!notes) {\n    props.toggleLoader(true);\n  }\n\n  useEffect(() => {\n    const getInfo = async () => {\n      const res = await service.getNotes();\n      const graphData = await getNodes(res.DATA);\n      setNotes(graphData);\n      props.toggleLoader(false);\n    };\n    getInfo();\n  }, []);\n  const width = window.innerWidth || document.documentElement.clientWidth\n    || document.body.clientWidth;\n  const graphWidth = sidebarIsOpen ? width - 270 : width;\n  const marginLeft = sidebarIsOpen ? 270 : 0;\n  console.log(sidebarIsOpen);\n\n  const options = {\n    autoResize: true,\n    height: `${height}px`,\n    width: `${graphWidth}px`,\n    locale: 'en',\n    nodes: {\n      color: '#3f51b5',\n      fixed: false,\n      font: '13px sans-serif #000000',\n      shape: 'dot',\n    },\n    edges: {\n      arrows: {\n        to: {\n          enabled: false,\n          type: 'bar',\n        },\n      },\n      color: 'black',\n      scaling: {\n        label: true,\n      },\n    },\n    layout: {\n      hierarchical: true,\n    },\n  };\n\n  return (\n    (link)\n      ? <Redirect to={link} />\n      : (\n        notes && (\n          <div\n            className=\"container\"\n            style={{\n              marginLeft: `${marginLeft}px`,\n            }}\n          >\n            <Graph\n              graph={notes}\n              options={options}\n              events={{\n                click: (event: { nodes: any; edges: any; }) => {\n                  const { nodes } = event;\n                  if (nodes[0]) {\n                    setLink(`/app/note/${nodes[0]}`);\n                  }\n                },\n              }}\n            />\n          </div>\n        )\n      )\n  );\n};\n\nconst mapDispatchToProps = {\n  toggleLoader,\n};\n\n// export default withRouter(myGraph);\nexport default withRouter(connect(null, mapDispatchToProps)(myGraph));\n","/* eslint-disable no-return-assign */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable no-confusing-arrow */\n/* eslint-disable no-console */\n/* eslint-disable no-underscore-dangle */\nimport * as React from 'react';\nimport { ValueFormatterParams } from '@material-ui/data-grid';\nimport { Note, NoteInfo, Columns } from './interfaces';\n\nexport const getRows = (res: any[]): any => (res.map((note: Note) => {\n  type Options = {\n    year: string,\n    month: string,\n    day: string;\n  };\n  const options: Options = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  };\n\n  const nth = (d: any) => {\n    if (d > 3 && d < 21) return 'th';\n    switch (d % 10) {\n      case 1: return 'st';\n      case 2: return 'nd';\n      case 3: return 'rd';\n      default: return 'th';\n    }\n  };\n  const formatDate = (d: string) => {\n    const fortnightAway = new Date(d);\n    const date = fortnightAway.getDate();\n    const month = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][fortnightAway.getMonth()];\n\n    return `${month} ${date}${nth(date)}, ${fortnightAway.getFullYear()}`;\n  };\n\n  const countWords = (mainT: any[]) => {\n    let count = 0;\n\n    if (Array.isArray(mainT) && mainT.length) {\n      mainT.forEach((par: any) => {\n        count += par.content.split(' ').length;\n        if (Array.isArray(par.nestedPages) && par.nestedPages.length) {\n          par.nestedPages.forEach((innerPar: any) => {\n            count += innerPar.content.split(' ').length;\n            if (Array.isArray(innerPar.nestedPages) && innerPar.nestedPages.length) {\n              innerPar.nestedPages.forEach((innerPar2: any) => {\n                count += innerPar2.content.split(' ').length;\n              });\n            }\n          });\n        }\n      });\n    }\n\n    // const countInnerWords = (t: any[]) => {\n    //   if (Array.isArray(t) && t.length) {\n    //     t.forEach((par: any) => {\n    //       console.log('par', par);\n    //       console.log('count', count);\n    //       count += par.content.split(' ').length;\n    //       if (Array.isArray(par.nestedPages) && par.nestedPages.length) {\n    //         par.nestedPages.forEach((innerPar: any) => {\n    //           countInnerWords(innerPar);\n    //         });\n    //       }\n    //     });\n    //   }\n    // };\n\n    // countInnerWords(mainT);\n\n    return count;\n  };\n\n  return ({\n    id: note._id,\n    title: note.title,\n    wordCount: note.body ? countWords(note.body) : 0,\n    mentions: note.parents.length,\n    updated: new Date(note.modification_notes[note.modification_notes.length - 1].modified_on).toLocaleDateString('en-US', options),\n    created: formatDate(note.modification_notes[0].modified_on),\n  }\n  );\n}));\n\nexport const hideDailyNotes = (res: NoteInfo[] | null): any => (\n  res ? res.filter((note: NoteInfo) => note.title === note.created ? null : note) : null);\n\nexport const searchRows = (res: NoteInfo[], title: string): any => (\n  res.filter((note: NoteInfo) => note.title.toLowerCase().includes(title.toLowerCase())\n    ? note : null));\n\nexport const changeColumns = (columns: Columns) => {\n  const initialColumns = [\n    {\n      field: 'wordCount',\n      headerName: 'WORD COUNT',\n      flex: 1.5,\n    },\n    {\n      field: 'mentions',\n      headerName: 'MENTIONS',\n      flex: 1.5,\n    },\n    {\n      field: 'updated',\n      headerName: 'UPDATED',\n      flex: 2,\n    },\n    {\n      field: 'created',\n      headerName: 'CREATED',\n      flex: 2,\n    },\n  ];\n  const updatedColumns: [any, any][] = Object.entries(columns);\n\n  const updates = initialColumns.filter((col, ind) => updatedColumns[ind][1] ? col : null);\n  const output = [\n    {\n      field: 'title',\n      headerName: 'TITLE',\n      flex: 3,\n      sortable: true,\n      headerClassName: 'title',\n      renderCell: (params: ValueFormatterParams): any => (\n        <strong>\n          {params.value}\n        </strong>\n      ),\n    },\n    ...updates,\n  ];\n  return output;\n};\n","/* eslint-disable no-unused-vars */\n/* eslint-disable react/jsx-wrap-multilines */\nimport React from 'react';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\ntype Props = {\n  text: string;\n  state: boolean;\n  handleChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  name: string;\n};\n\nexport default function SwitchLabels({\n  text,\n  state,\n  handleChange,\n  name,\n}: Props) {\n  return (\n    <FormGroup row>\n      <FormControlLabel\n        control={\n          <Switch\n            checked={state}\n            onChange={handleChange}\n            name={name}\n            color=\"primary\"\n          />\n        }\n        label={text}\n      />\n    </FormGroup>\n  );\n}\n","/* eslint-disable no-console */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport { Tooltip } from '@material-ui/core';\nimport SwitchLabels from './switch';\nimport { Columns } from './interfaces';\nimport './allPages.scss';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5',\n  },\n})((props: MenuProps) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center',\n    }}\n    {...props}\n  />\n));\n\nconst StyledMenuItem = withStyles((theme) => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\ntype Props = {\n  state: Columns;\n  // eslint-disable-next-line no-unused-vars\n  handleChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport default function CustomizedMenus({\n  state,\n  handleChange,\n}: Props) {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <Tooltip title=\"Show/Hide columns\" arrow>\n        <Button\n          className=\"eye\"\n          aria-haspopup=\"true\"\n          onClick={handleClick}\n        >\n          <VisibilityIcon className=\"btn\" />\n        </Button>\n      </Tooltip>\n      <StyledMenu\n        id=\"customized-menu\"\n        style={{ width: 300 }}\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <ListItemText style={{ marginLeft: 16 }} className=\"menu-text\" primary=\"Show or Hide Columns\" />\n        <StyledMenuItem>\n          <SwitchLabels handleChange={handleChange} state={state.checkedA} name=\"checkedA\" text=\"Word Count\" />\n        </StyledMenuItem>\n        <StyledMenuItem>\n          <SwitchLabels handleChange={handleChange} state={state.checkedB} name=\"checkedB\" text=\"Mentions\" />\n        </StyledMenuItem>\n        <StyledMenuItem>\n          <SwitchLabels handleChange={handleChange} state={state.checkedC} name=\"checkedC\" text=\"Updated\" />\n        </StyledMenuItem>\n        <StyledMenuItem>\n          <SwitchLabels handleChange={handleChange} state={state.checkedD} name=\"checkedD\" text=\"Created\" />\n        </StyledMenuItem>\n      </StyledMenu>\n    </div>\n  );\n}\n","/* eslint-disable no-confusing-arrow */\n/* eslint-disable no-unused-expressions */\nimport React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport {\n  makeStyles,\n  Theme,\n  InputBase,\n} from '@material-ui/core';\nimport { searchRows } from './all-pages-servi—Åe';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  search: {\n    position: 'relative',\n    borderRadius: '100px',\n    backgroundColor: ' #BFCCD6',\n    '&:hover': {\n      opacity: 0.7,\n    },\n    marginRight: 2,\n    width: 210,\n    float: 'right',\n    opacity: 0.4,\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'black',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n}));\n\ntype Props = {\n  rowsInfo: any;\n  initialRows: any;\n};\n\nconst SearchInput = ({ rowsInfo, initialRows }: Props) => {\n  const classes = useStyles();\n  const [rows, setRows] = rowsInfo;\n  return (\n    <div className={classes.search}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        placeholder=\"Search All Pages\"\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n        inputProps={{ 'aria-label': 'search' }}\n        onChange={(event: any) => event.target.value !== ''\n          ? setRows(searchRows(rows, event.target.value)) : setRows(initialRows)}\n      />\n    </div>\n  );\n};\n\nexport default SearchInput;\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport {\n  withStyles,\n} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { RowSelectedParams } from '@material-ui/data-grid';\nimport { Tooltip } from '@material-ui/core';\n\nconst StyledButton = withStyles({\n  root: {\n    minWidth: '49px',\n  },\n})(Button);\n\nexport default function AlertDialog({ selected, deleteRows, isVisible }: any) {\n  const [open, setOpen] = useState(false);\n  const [selectedValue, setSelectedValue] = selected;\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const noteQ = selectedValue.length === 1 || selectedValue.length === 21 ? 'note' : 'notes';\n\n  return (\n    !isVisible\n      ? (\n        <Tooltip title=\"First select pages to delete\" arrow>\n          <StyledButton>\n            <DeleteOutlineIcon\n              className=\"btn\"\n            />\n          </StyledButton>\n        </Tooltip>\n      )\n      : (\n        <span>\n          <Tooltip title=\"Delete selected pages\" arrow>\n            <StyledButton>\n              <DeleteOutlineIcon\n                className=\"btn\"\n                onClick={handleClickOpen}\n              />\n            </StyledButton>\n          </Tooltip>\n          <Dialog\n            className=\"dialog\"\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">\n              {\n                `Are you sure you want to permanently delete ${selectedValue.length} ${noteQ}?`\n              }\n            </DialogTitle>\n            <DialogContent>\n              <List className=\"list-item\">\n                {selectedValue.map((note: RowSelectedParams) => {\n                  const mentions = note.data.mentions === 1 ? 'Mention' : 'Mentions';\n                  const words = note.data.wordCount === 1 ? 'Word' : 'Words';\n                  return (\n                    <ListItem key={note.data.id}>\n                      <ListItemText primary={note.data.title} secondary={`${note.data.mentions} ${mentions}, ${note.data.wordCount} ${words}`} />\n                    </ListItem>\n                  );\n                })}\n              </List>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                onClick={() => {\n                  setSelectedValue([]);\n                  handleClose();\n                }}\n                color=\"primary\"\n                variant=\"outlined\"\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={() => {\n                  deleteRows(selectedValue);\n                  handleClose();\n                }}\n                variant=\"contained\"\n                color=\"secondary\"\n                autoFocus\n              >\n                {`Yes, delete ${noteQ}`}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </span>\n      )\n  );\n}\n","/* eslint-disable no-console */\n/* eslint-disable camelcase */\n/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport ReactExport from 'react-export-excel';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport './allPages.scss';\nimport { Button, Tooltip } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\n\nconst { ExcelFile } = ReactExport;\nconst { ExcelSheet } = ReactExport.ExcelFile;\nconst { ExcelColumn } = ReactExport.ExcelFile;\n\nconst StyledButton = withStyles({\n  root: {\n    minWidth: '49px',\n    minHeight: '24px',\n  },\n})(Button);\n\nclass Download extends React.Component<any> {\n  render() {\n    const { rows } = this.props;\n    return (\n      <ExcelFile\n        type=\"button\"\n        element={(\n          <Tooltip title=\"Export the table\" arrow>\n            <StyledButton>\n              <GetAppIcon className=\"btn\" />\n            </StyledButton>\n          </Tooltip>\n        )}\n      >\n        <ExcelSheet data={rows} name=\"Notes\">\n          <ExcelColumn label=\"Title\" value=\"title\" />\n          <ExcelColumn label=\"WordCount\" value=\"wordCount\" />\n          <ExcelColumn label=\"Mentions\" value=\"mentions\" />\n          <ExcelColumn label=\"Updated\" value=\"updated\" />\n          <ExcelColumn label=\"Created\" value=\"created\" />\n        </ExcelSheet>\n      </ExcelFile>\n    );\n  }\n}\nexport default Download;\n","/* eslint-disable eqeqeq */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable no-console */\n/* eslint-disable no-return-assign */\n/* eslint-disable react/jsx-boolean-value */\n/* eslint-disable react/jsx-wrap-multilines */\nimport React, { useState, useEffect, useContext } from 'react';\nimport './allPages.scss';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport {\n  DataGrid,\n  ColDef,\n  RowSelectedParams,\n  GridOverlay,\n  RowParams,\n} from '@material-ui/data-grid';\nimport Button from '@material-ui/core/Button';\nimport DateRangeOutlinedIcon from '@material-ui/icons/DateRangeOutlined';\n// import GetAppIcon from '@material-ui/icons/GetApp';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { Tooltip } from '@material-ui/core';\nimport {\n  makeStyles,\n  withStyles,\n} from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport Scrollbars from 'react-custom-scrollbars';\nimport {\n  getRows,\n  changeColumns,\n  hideDailyNotes,\n} from './all-pages-servi—Åe';\nimport CustomizedMenus from './menu';\nimport SearchInput from './search';\nimport RSCloneServiceContext from '../../../rsCloneServiceContext/index';\nimport AlertDialog from './alertDialog';\nimport Download from './excel';\nimport { IInitialState } from '../../../../index';\n\nconst useStyles = makeStyles({\n  root: {\n    textAlign: 'center',\n    border: 'none',\n    '& .MuiDataGrid-colCellWrapper': {\n      backgroundColor: 'rgba(191, 204, 214, 0.4)',\n      borderRadius: '4px',\n      border: 'none',\n    },\n    '& .MuiDataGrid-colCell': {\n      backgroundColor: 'rgba(191, 204, 214, 0.4)',\n      align: 'center',\n    },\n    '& .MuiDataGrid-cellLeft': {\n      textAlign: 'center',\n    },\n    '& .MuiDataGrid-colCellTitleContainer': {\n      justifyContent: 'center',\n    },\n    '& .title': {\n      justifySelf: 'start',\n    },\n    '& .MuiDataGrid-row:hover': {\n      cursor: 'pointer',\n      backgroundColor: 'rgba(63, 81, 181, 0.08)',\n    },\n    '& .MuiDataGrid-cell': {\n      border: 'none',\n    },\n    '& .calendar: active': {\n      color: 'red',\n    },\n\n  },\n\n});\n\nconst StyledButton = withStyles({\n  root: {\n    minWidth: '49px',\n  },\n})(Button);\n\nfunction CustomLoadingOverlay() {\n  return (\n    <GridOverlay>\n      <div style={{ position: 'absolute', top: 0, width: '100%' }}>\n        <LinearProgress />\n      </div>\n    </GridOverlay>\n  );\n}\n\nconst AllPages = () => {\n  const [state, setState] = useState({\n    checkedA: true,\n    checkedB: true,\n    checkedC: true,\n    checkedD: true,\n  });\n  const [link, setLink] = useState('');\n  const [rows, setRows] = useState(null);\n  const [allInfo, setAllInfo] = useState(null);\n  const [notBeingDeleted, setNotBeingDeleted] = useState(true);\n  const [DisplayDailyNotes, setDisplayDailyNotes] = useState(true);\n  const [selectedValue, setSelectedValue] = useState([] as any);\n  const [isVisible, setIsVisible] = useState(false);\n  const [calendarText, setCalendarText] = useState('Hide daily notes');\n  const sidebarIsOpen = useSelector<IInitialState>((reduxState) => reduxState.sidebarIsOpen);\n\n  const service = useContext(RSCloneServiceContext);\n  useEffect((): () => void => {\n    let cleanupFunction = false;\n    const getInfo = async () => {\n      try {\n        const res = await service.getNotes();\n        const info = await getRows(res.DATA);\n        if (!cleanupFunction) {\n          setAllInfo(info);\n          setRows(info);\n        }\n      } catch (e) {\n        console.error(e.message);\n      }\n    };\n    getInfo();\n    return () => cleanupFunction = true;\n  }, [state, notBeingDeleted, DisplayDailyNotes, selectedValue, isVisible, calendarText]);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n  };\n\n  const deleteRows = async (selected: RowSelectedParams[]) => {\n    setNotBeingDeleted(false);\n    await selected.forEach((el) => {\n      service.deleteNote(el.data.id);\n    });\n    const res = await service.getNotes();\n    await setAllInfo(getRows(res.DATA));\n    await setRows(getRows(res.DATA));\n    setNotBeingDeleted(true);\n  };\n\n  let selected: RowSelectedParams[] = [];\n  const columns: ColDef[] = changeColumns(state);\n\n  const classes = useStyles();\n  return (\n    <Scrollbars\n      autoHeight\n      autoHeightMin={500}\n      autoHeightMax=\"80vh\"\n      style={{\n        width: sidebarIsOpen ? 'calc(100% - 240px)' : '100%',\n        marginLeft: sidebarIsOpen ? '240px' : '0',\n      }}\n    >\n      <div\n        className=\"all-pages-container\"\n        // style={{\n        //   width: sidebarIsOpen ? 'calc(100% - 240px)' : '100%',\n        //   marginLeft: sidebarIsOpen ? '270px' : '30px',\n        // }}\n      >\n        <div className=\"service\">\n          <div className=\"l-group\">\n            <AlertDialog\n              selected={[selectedValue, setSelectedValue]}\n              deleteRows={deleteRows}\n              isVisible={isVisible}\n            />\n            <Download rows={rows} className=\"btn\" />\n          </div>\n          <div className=\"r-group\">\n            <SearchInput rowsInfo={[rows, setRows]} initialRows={allInfo} />\n            <Tooltip title={calendarText} arrow>\n              <StyledButton>\n                <DateRangeOutlinedIcon\n                  className={`btn ${DisplayDailyNotes ? '' : 'calendar'}`}\n                  onClick={() => {\n                    const curr = DisplayDailyNotes;\n                    if (!curr) {\n                      setRows(allInfo);\n                      setCalendarText('Hide daily notes');\n                    } else {\n                      const w = hideDailyNotes(rows);\n                      setRows(w);\n                      setCalendarText('Show daily notes');\n                    }\n                    setDisplayDailyNotes(!curr);\n                  }}\n                />\n              </StyledButton>\n            </Tooltip>\n            <CustomizedMenus\n              state={state}\n              handleChange={handleChange}\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            height: '100vh',\n          }}\n        >\n          {(rows && notBeingDeleted)\n            ? ((link)\n              ? <Redirect to={link} />\n              : <DataGrid\n                  density=\"compact\"\n                  className={classes.root}\n                  disableColumnMenu\n                  autoHeight\n                // @ts-ignore\n                  rows={rows}\n                  columns={columns}\n                  disableSelectionOnClick\n                  checkboxSelection\n                  onRowClick={(param: RowParams) => {\n                    setLink(`/app/note/${param.row.title}`);\n                  }}\n                  onRowSelected={(param: RowSelectedParams) => {\n                    selected = selectedValue;\n                    if (param.isSelected) {\n                      selected.push(param);\n                    } else {\n                      const index: number = selected\n                        .findIndex((item) => item.data.id === param.data.id);\n                      selected.splice(index, 1);\n                    }\n                    setSelectedValue(selected);\n                    if (selectedValue.length !== 0) {\n                      setIsVisible(true);\n                    } else {\n                      setIsVisible(false);\n                    }\n                  }}\n              />) : <DataGrid\n                density=\"compact\"\n                className={classes.root}\n                disableColumnMenu={true}\n                autoHeight={true}\n                rows={[]}\n                columns={columns}\n                checkboxSelection\n                components={{\n                  loadingOverlay: CustomLoadingOverlay,\n                }}\n                loading\n              />}\n        </div>\n      </div>\n    </Scrollbars>\n  );\n};\nexport default withRouter(AllPages);\n","import React, {\n  Dispatch, SetStateAction, useContext, useState,\n} from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { Button } from '@material-ui/core';\nimport { createStyles, makeStyles, withStyles } from '@material-ui/core/styles';\nimport { UserData } from './Sidebar';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\n\nconst useStyles = makeStyles(() => createStyles({\n  textField: {\n    marginTop: '15px',\n    input: {\n      '&::placeholder': {\n        color: '#bff7ff',\n      },\n    },\n  },\n}));\n\nconst styles = () => ({\n  root: {\n    '&label.Mui-focused': {\n      color: 'orange',\n    },\n    '&.MuiInputBase-input': {\n      color: 'orange',\n    },\n  },\n});\n\ntype Props = {\n    userData: UserData\n    setUserData: Dispatch<SetStateAction<UserData>>\n    // stylesForInput?: any\n}\n\n// const defaultProps = {\n//   stylesForInput: null,\n// };\n\ntype DataState = {\n    username: string,\n    email: string\n}\n\ntype PasswordData = {\n    // eslint-disable-next-line camelcase\n    old_password: string,\n    // eslint-disable-next-line camelcase\n    new_password: string,\n    confirm: string,\n}\n\nconst UserSettings: React.FC<Props> = ({ userData, setUserData } : Props) => {\n  const classes = useStyles();\n  const service = useContext(RSCloneServiceContext);\n  const [dataState, setDataState] = useState<DataState>({\n    username: '',\n    email: '',\n  });\n  const [passwordData, setPasswordData] = useState<PasswordData>({\n    // eslint-disable-next-line camelcase\n    old_password: '',\n    // eslint-disable-next-line camelcase\n    new_password: '',\n    confirm: '',\n  });\n\n  const onDataStateChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n    setDataState({\n      ...dataState,\n      [name]: value,\n    });\n  };\n\n  const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const form = event.currentTarget.name;\n    console.log(form);\n\n    switch (form) {\n      case 'username':\n        service.updateUser({\n          name: dataState.username,\n        });\n        setUserData({\n          ...userData,\n          username: dataState.username,\n        });\n        localStorage.setItem('username', dataState.username);\n        break;\n      case 'email':\n        service.updateUser({\n          email: dataState.email,\n        });\n        setUserData({\n          ...userData,\n          email: dataState.email,\n        });\n        localStorage.setItem('email', dataState.email);\n        break;\n      default:\n        if (passwordData.new_password === passwordData.confirm) {\n          console.log(passwordData);\n          try {\n            service.userUpdatePassword({\n              // eslint-disable-next-line camelcase\n              old_password: passwordData.old_password,\n              // eslint-disable-next-line camelcase\n              new_password: passwordData.new_password,\n            });\n          } catch (e) {\n            throw new Error(`something was wrong. Error: ${e}`);\n          }\n        } else throw new Error('check your new passwords');\n    }\n    return true;\n  };\n\n  const onChangePassword = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = event.target;\n\n    setPasswordData({\n      ...passwordData,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"user-settings\">\n      <h2 className=\"user-settings__title\">Account details</h2>\n      <form name=\"username\" className=\"user-settings-form\" onSubmit={onSubmit}>\n        <span>Name</span>\n        <TextField name=\"username\" placeholder={userData.username as string} variant=\"outlined\" onChange={onDataStateChange} />\n      </form>\n      <form name=\"email\" className=\"user-settings-form\" onSubmit={onSubmit}>\n        <span>Email</span>\n        <TextField name=\"email\" placeholder={userData.email as string} variant=\"outlined\" onChange={onDataStateChange} type=\"email\" />\n      </form>\n      <h2 className=\"user-settings__title privacy\">Privacy</h2>\n      <form name=\"password\" className=\"user-settings-form password\" onSubmit={onSubmit}>\n        <TextField name=\"old_password\" onChange={onChangePassword} classes={{ root: classes.textField }} label=\"Enter your current password\" required />\n        <TextField name=\"new_password\" onChange={onChangePassword} classes={{ root: classes.textField }} label=\"Enter your new password\" required />\n        <TextField name=\"confirm\" onChange={onChangePassword} classes={{ root: classes.textField }} label=\"Confirm your new password\" required />\n        <Button className=\"button\" variant=\"contained\" type=\"submit\">Change</Button>\n      </form>\n    </div>\n  );\n};\n\n// UserSettings.defaultProps = defaultProps;\n\nexport default withStyles(styles)(UserSettings);\n","import React, { Dispatch, SetStateAction, useState } from 'react';\nimport './sidebar.scss';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {\n  makeStyles, createStyles,\n} from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\n// import { Redirect, useHistory } from 'react-router-dom';\n// import { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\n// import { compose } from 'redux';\nimport { useHistory } from 'react-router';\nimport Modal from '@material-ui/core/Modal';\nimport { UserData } from './Sidebar';\n// import MenuItemWithModal from './MenuItemWithModal';\nimport { userLoggedOut } from '../../store/actionsCreators/actionsCreators';\nimport UserSettings from './UserSettings';\n\nconst useStyles = makeStyles(() => createStyles({\n  expandIcon: {\n    width: '17px',\n    height: '17px',\n    paddingLeft: '5px',\n  },\n  menu: {\n    zIndex: 222222,\n  },\n  modalContent: {\n    width: '200px',\n    height: '200px',\n    backgroundColor: 'blue',\n    position: 'absolute',\n    top: '30%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  modal: {\n    zIndex: 2222222,\n  },\n}));\n\ntype Props = {\n    userData: UserData,\n    setUserData: Dispatch<SetStateAction<UserData>>,\n    onUserLoggedOut: () => {type: string, isLoggedIn: boolean}\n}\nconst GraphNavigation: React.FC<Props> = (\n  {\n    userData, setUserData, onUserLoggedOut,\n  }\n  : Props,\n) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState<HTMLDivElement | null>(null);\n  const [openModal, setOpenModal] = useState<boolean>(false);\n  const history = useHistory();\n\n  const onOpenMenu = (event: React.MouseEvent<HTMLDivElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onCloseMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const onOpenModal = () => {\n    setAnchorEl(null);\n    setOpenModal(true);\n  };\n  const onCloseModal = () => {\n    setOpenModal(false);\n    setAnchorEl(null);\n  };\n\n  const onLogout = () => {\n    onUserLoggedOut();\n    history.push('/');\n  };\n\n  return (\n    <>\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events */}\n      <div className=\"graph-navigation\" onClick={onOpenMenu} role=\"button\" tabIndex={0}>\n        <span>{userData?.username}</span>\n        <ExpandMoreIcon htmlColor=\"#5c7080\" viewBox=\"0 0 20 20\" className={classes.expandIcon} />\n      </div>\n      { openModal ? (\n        <Modal\n          className={classes.modal}\n          open={openModal}\n          onClose={onCloseModal}\n          disableEnforceFocus\n        >\n          <UserSettings userData={userData} setUserData={setUserData} />\n        </Modal>\n      ) : (\n        <Popover\n          open={Boolean(anchorEl)}\n          anchorEl={anchorEl}\n          onClose={onCloseMenu}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n          }}\n        >\n          <MenuList id=\"menu-list-grow\" autoFocus={false} autoFocusItem={false} onClick={onOpenModal} variant=\"menu\">\n            <MenuItem onClick={onCloseMenu}>Edit profile</MenuItem>\n            <MenuItem onClick={onLogout}>Logout</MenuItem>\n          </MenuList>\n        </Popover>\n      ) }\n    </>\n  );\n};\n\nexport default connect(null, { onUserLoggedOut: userLoggedOut })(GraphNavigation);\n","import React from 'react';\nimport './shortcutList.scss';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { IInitialState } from '../../../../index';\n\nconst ShortcutsList: React.FC = () => {\n  // @ts-ignore\n  const shortcuts: string[] = useSelector<IInitialState>((state) => state.shortcuts);\n  console.log(shortcuts);\n\n  return (\n    <div className=\"shortcut-container\">\n\n      {shortcuts\n        ? shortcuts.map((shortcut) => <Link to={{ pathname: `/app/note/${shortcut}` }} key={shortcut}>{shortcut}</Link>)\n        : null}\n    </div>\n  );\n};\n\nexport default ShortcutsList;\n","import MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport {\n  Divider, fade, Link, List, ListItem, ListItemIcon, ListItemText,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport DateRange from '@material-ui/icons/DateRange';\nimport BubbleChart from '@material-ui/icons/BubbleChart';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Grade from '@material-ui/icons/Grade';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport GraphNavigation from './GraphNavigation';\nimport { UserData } from './Sidebar';\nimport ShortcutsList from '../pages/application-page/shorcuts/ShortcutList';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  link: {\n    color: '#5c7080',\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'none',\n    },\n  },\n  linkItem: {\n    '&:hover': {\n      backgroundColor: fade('#fff', 0.15),\n    },\n  },\n  divider: {\n    backgroundColor: fade('#fff', 0.15),\n  },\n  toolbar: theme.mixins.toolbar,\n  hideButton: {\n    position: 'absolute',\n    padding: '4px',\n    width: '28px',\n    height: '28px',\n    top: '15px',\n    left: '195px',\n    borderRadius: '10px',\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: fade('#fff', 0.15),\n    },\n  },\n  listItemText: {\n    fontWeight: 600,\n  },\n  listIcon: {\n    minWidth: '44px',\n  },\n  listItemWithoutLink: {\n    cursor: 'default',\n    flexDirection: 'column',\n    alignItems: 'start',\n  },\n  listItemShortcutsTitleContainer: {\n    display: 'flex',\n  },\n}));\n\nconst ReDrawer = (\n  { userData, toggleSideBar, setUserData }\n: {userData: UserData, toggleSideBar: () => void, setUserData: Dispatch<SetStateAction<UserData>>},\n) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <MenuOpenIcon\n        className={classes.hideButton}\n        htmlColor=\"#5c7080\"\n        onClick={toggleSideBar}\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n      />\n      {/* @ts-ignore */}\n      <GraphNavigation userData={userData} setUserData={setUserData} />\n      <div className={classes.toolbar} />\n      <List className={classes.link}>\n        <Link component={RouterLink} to=\"/app\" className={classes.link}>\n          <ListItem button className={classes.linkItem}>\n            <ListItemIcon classes={{\n              root: classes.listIcon,\n            }}\n            >\n              <DateRange htmlColor=\"#5c7080\" />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"DAILY NOTES\"\n              classes={{\n                primary: classes.listItemText,\n              }}\n            />\n          </ListItem>\n        </Link>\n        <Link component={RouterLink} to=\"/app/graph\" className={classes.link}>\n          <ListItem button className={classes.linkItem}>\n            <ListItemIcon classes={{\n              root: classes.listIcon,\n            }}\n            >\n              <BubbleChart htmlColor=\"#5c7080\" />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"GRAPH OVERVIEW\"\n              classes={{\n                primary: classes.listItemText,\n              }}\n            />\n          </ListItem>\n        </Link>\n        <Link component={RouterLink} to=\"/app/pages\" className={classes.link}>\n          <ListItem button className={classes.linkItem}>\n            <ListItemIcon classes={{\n              root: classes.listIcon,\n            }}\n            >\n              <MenuIcon htmlColor=\"#5c7080\" />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"ALL PAGES\"\n              classes={{\n                primary: classes.listItemText,\n              }}\n            />\n          </ListItem>\n        </Link>\n        <Divider className={classes.divider} />\n        <ListItem className={classes.listItemWithoutLink}>\n          <div className={classes.listItemShortcutsTitleContainer}>\n            <ListItemIcon classes={{\n              root: classes.listIcon,\n            }}\n            >\n              <Grade htmlColor=\"#5c7080\" />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"SHORTCUTS\"\n              classes={{\n                primary: classes.listItemText,\n              }}\n            />\n          </div>\n          <ShortcutsList />\n        </ListItem>\n      </List>\n    </div>\n  );\n};\n\nexport default ReDrawer;\n","import React, {\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport {\n  makeStyles, Theme, createStyles,\n} from '@material-ui/core/styles';\nimport {\n  Drawer, fade,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport './sidebar.scss';\nimport { useSelector, connect } from 'react-redux';\nimport ReDrawer from './ReDrawer';\nimport { IInitialState } from '../../index';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\nimport { getUserData, onCloseSidebar, onOpenSidebar } from '../../store/actionsCreators/actionsCreators';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  link: {\n    color: '#5c7080',\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'none',\n    },\n  },\n  linkItem: {\n    '&:hover': {\n      backgroundColor: fade('#fff', 0.15),\n    },\n  },\n  divider: {\n    backgroundColor: fade('#fff', 0.15),\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: '#182026',\n  },\n  showButton: {\n    position: 'fixed',\n    padding: '4px',\n    width: '28px',\n    height: '28px',\n    top: '15px',\n    left: '15px',\n    cursor: 'pointer',\n    borderRadius: '10px',\n    '&:hover': {\n      backgroundColor: fade('#565555', 0.15),\n    },\n  },\n  hideButton: {\n    position: 'absolute',\n    padding: '4px',\n    width: '28px',\n    height: '28px',\n    top: '15px',\n    left: '195px',\n    borderRadius: '10px',\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: fade('#fff', 0.15),\n    },\n  },\n  listItemText: {\n    fontWeight: 600,\n  },\n  listIcon: {\n    minWidth: '44px',\n  },\n}));\n\nexport type UserData = {\n    username: string | null,\n    email: string | null\n    shortcuts?: string[],\n}\n\ntype Props = {\n  // eslint-disable-next-line no-unused-vars\n  getUserData: any\n  onCloseSidebar: any,\n  onOpenSidebar: any\n}\n\n// eslint-disable-next-line no-shadow\nconst Sidebar: React.FC<Props> = ({ getUserData, onCloseSidebar, onOpenSidebar }: Props) => {\n  const [open, setOpen] = useState(true);\n  const data = useSelector((state: IInitialState) => state.userData);\n  const [userData, setUserData] = useState<UserData>(data);\n  const service = useContext(RSCloneServiceContext);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const takeUserData = async () => {\n      const userShortcuts = await service.getUser().then((res) => res.shortcuts);\n      getUserData(userShortcuts);\n    };\n    takeUserData();\n  }, []);\n\n  const toggleSidebar = (): void => {\n    // eslint-disable-next-line no-unused-expressions\n    open ? onCloseSidebar() : onOpenSidebar();\n    setOpen(!open);\n  };\n\n  if (!open) {\n    return <MenuIcon onClick={toggleSidebar} htmlColor=\"#5c7080\" className={classes.showButton} />;\n  }\n  return (\n    <nav className={classes.drawer} aria-label=\"mailbox folders\">\n      <Drawer\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        variant=\"permanent\"\n        open\n      >\n        <ReDrawer userData={userData} toggleSideBar={toggleSidebar} setUserData={setUserData} />\n      </Drawer>\n    </nav>\n  );\n};\n\nexport default connect(null, { getUserData, onCloseSidebar, onOpenSidebar })(Sidebar);\n","import moment from 'moment';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport shortid from 'shortid';\nimport { IAstElement } from '../models/notes.model';\n\nconst getDayTitle = (): string => moment()\n  .format('MMMM Do, YYYY')\n  .toString();\n\nconst getLinkContent = (str: string) => {\n  if (!str) {\n    return str;\n  }\n  return str.replace(/\\[\\[/, '').replace(/\\]\\]/, '');\n};\n\nconst generateAst = (str: string) => {\n  const iter = (subStr: string, acc: any[]): IAstElement[] => {\n    if (subStr.length === 0) {\n      return acc;\n    }\n\n    const linkStart: number = subStr.search(/\\[\\[/);\n\n    if (linkStart === -1) {\n      return iter('', [...acc, { type: 'text', content: subStr }]);\n    }\n\n    const linkEnd: number = subStr.search(/\\]\\]/);\n    if (linkEnd === -1) {\n      return iter('', [...acc, { type: 'text', content: subStr }]);\n    }\n\n    let newAcc = [...acc];\n    if (linkStart !== 0) {\n      newAcc = [\n        ...acc,\n        { type: 'text', content: subStr.substring(0, linkStart) },\n      ];\n    }\n\n    return iter(subStr.substring(linkEnd + 2), [\n      ...newAcc,\n      { type: 'link', content: subStr.substring(linkStart, linkEnd + 2) },\n    ]);\n  };\n  return iter(str, []);\n};\n\nconst getHtmlMarkup = (ast: IAstElement[]) => {\n  if (ast.length === 0) {\n    // React.createElement('span');\n    return React.createElement('span');\n  }\n  return ast.map((item: IAstElement) => {\n    if (item.type === 'text') {\n      return React.createElement('span', {\n        key: shortid(),\n      },\n      item.content);\n      // return (<span key={shortid()}>{item.content}</span>);\n    }\n    return React.createElement(Link, {\n      key: shortid(),\n      className: 'page-link',\n      to: `/app/note/${getLinkContent(item.content)}`,\n    },\n    `[[${getLinkContent(item.content)}]]`);\n  });\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport {\n  getDayTitle, generateAst, getLinkContent, getHtmlMarkup,\n};\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from 'react';\n// import shortid from 'shortid';\n\nfunction TemplateReadOnly(props: any) {\n  const { children, onClick } = props;\n  return (\n    // eslint-disable-next-line react/no-danger\n    <div className=\"readonly-wrapper\" onClick={onClick}>\n      {children}\n    </div>\n  );\n}\n\nexport default TemplateReadOnly;\n","/* eslint-disable import/no-unresolved */\nimport React, { useEffect, useState } from 'react';\nimport autosize from 'autosize';\nimport { ArrowDropDown, ArrowRight } from '@material-ui/icons';\nimport { connect } from 'react-redux';\nimport shortid from 'shortid';\nimport { IPage } from '../../../models/notes.model';\nimport './page.scss';\n\n// eslint-disable-next-line import/extensions\nimport {\n  addNeighbor,\n  becomeChild,\n  removePage,\n  levelUp,\n  updateContent,\n  addChild,\n  changeFocusElement,\n  setFocusElement,\n} from '../../../store/actionsCreators/actionsCreators';\nimport { selectNote } from '../../../store/utils';\nimport TemplateReadOnly from '../pageReadOnly/PageReadOnly';\nimport { generateAst, getHtmlMarkup } from '../../../helpers/notes.helper';\n\nconst mapStateToProps = (state: any, ownProps: any) => ({\n  notes: state.notes,\n  body: state.body,\n  currentNote: state.currentNote,\n  focusComponentPath: state.focusComponentPath,\n  ...ownProps,\n});\n\nconst mapDispatchToProps = {\n  addNeighbor,\n  becomeChild,\n  removePage,\n  levelUp,\n  updateContent,\n  addChild,\n  changeFocusElement,\n  setFocusElement,\n};\n\nfunction Page(props: any) {\n  const {\n    content,\n    note,\n    notes,\n    pagePath,\n    currentPage,\n    list,\n    focusComponentPath,\n    textInputHeight,\n    noteTitle,\n  } = props;\n\n  const body: IPage[] = selectNote(noteTitle, notes)?.body;\n\n  let childrenComponents = <span>{}</span>;\n  const [pageContent, setContent] = useState(content);\n  const [inputCursorPosition, setCursorPosition] = useState(0);\n  const [showNestedPages, setNestedPagesVisibility] = useState(true);\n\n  let textInput: HTMLTextAreaElement | null = null;\n  let editor: any = null;\n\n  useEffect(() => {\n    if (textInput && inputCursorPosition !== 0) {\n      textInput.selectionStart = inputCursorPosition;\n      textInput.selectionEnd = inputCursorPosition;\n    }\n  }, [inputCursorPosition]);\n\n  const onAddNeighbor = () => {\n    props.addNeighbor(body, { currentPage, list, noteTitle });\n  };\n\n  const onBecomeChild = () => {\n    if (currentPage.pageId === 0) {\n      return;\n    }\n    props.becomeChild(body, { currentPage, noteTitle });\n  };\n\n  const onLevelUp = () => {\n    if (currentPage.pagePath && currentPage.pagePath.length === 1) {\n      return;\n    }\n    props.levelUp(body, { currentPage, noteTitle });\n  };\n\n  const onRemove = () => {\n    if (currentPage.nestedPages && currentPage.nestedPages.length > 0) {\n      return;\n    }\n\n    if (pageContent && pageContent.length > 0) {\n      return;\n    }\n\n    if (currentPage.pagePath.length === 1 && currentPage.pagePath[0] === 0) {\n      return;\n    }\n    props.removePage(body, { currentPage, noteTitle });\n  };\n\n  const onChangeFocusElement = (direction: string = 'down') => {\n    props.changeFocusElement(direction, body, { currentPage, list, noteTitle });\n  };\n\n  if (currentPage.nestedPages && currentPage.nestedPages.length > 0) {\n    // –¥–µ–ª–∞–µ–º –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\n    childrenComponents = currentPage.nestedPages.map(\n      (item: IPage, index: number, arr: IPage[]) => {\n        const NewPage: any = connect(mapStateToProps, mapDispatchToProps)(Page);\n        return (\n          <NewPage\n            key={shortid.generate()}\n            content={item.content}\n            nestedPages={item.nestedPages}\n            pagePath={item.pagePath}\n            currentPage={item}\n            list={arr}\n            note={note}\n            textInputHeight={item.textInputHeight}\n            noteTitle={noteTitle}\n          />\n        );\n      },\n    );\n  }\n\n  const onUpdateContent = (value: string) => {\n    let currentPageLink: any = body;\n    for (let i = 0; i < pagePath.length; i += 1) {\n      currentPageLink = currentPageLink[pagePath[i]];\n    }\n\n    currentPageLink.content = value;\n    currentPageLink.textInputHeight = (textInput as HTMLTextAreaElement).clientHeight;\n    const pageLinks = value.match(/\\[\\[(.*?)\\]]/g);\n    props.updateContent(body, {\n      noteTitle, pageLinks, content: value, currentNote: note, currentPage,\n    });\n  };\n\n  const onBlur = (e: React.FocusEvent<HTMLTextAreaElement>) => {\n    if (e.target.value === content) {\n      return;\n    }\n\n    onUpdateContent(e.target.value);\n  };\n\n  const onChangeContent = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const str: string = (e.target as HTMLTextAreaElement).value;\n    const { selectionStart, selectionEnd } = e.nativeEvent.target as HTMLTextAreaElement;\n    if (str && (e.nativeEvent as InputEvent).data === '[') {\n      const newStrArr = str.split('');\n      newStrArr.splice(selectionStart, 0, ']');\n      setContent(newStrArr.join(''));\n      setCursorPosition(selectionStart);\n    } else {\n      setContent(str);\n      setCursorPosition(selectionEnd);\n    }\n    autosize(textInput as HTMLTextAreaElement);\n  };\n\n  const onEnterPressHandler = (e: any) => {\n    const contentValue: string = (e.target as HTMLTextAreaElement).value;\n    if (e.key === 'Tab') {\n      e.preventDefault();\n      onUpdateContent(contentValue);\n      onBecomeChild();\n    }\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (\n        (contentValue && contentValue.length > 0)\n        || currentPage.pagePath.length === 1\n      ) {\n        onUpdateContent(contentValue);\n        onAddNeighbor();\n        return;\n      }\n      onUpdateContent('');\n      onLevelUp();\n    }\n\n    if (e.key === 'Backspace') {\n      onRemove();\n    }\n\n    if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      onUpdateContent(contentValue);\n      onChangeFocusElement('up');\n    }\n\n    if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      onUpdateContent(contentValue);\n      onChangeFocusElement();\n    }\n  };\n\n  const toggleNestedPagesVisibility = () => {\n    setNestedPagesVisibility(!showNestedPages);\n  };\n  if (\n    JSON.stringify({ [noteTitle]: currentPage.pagePath })\n      === JSON.stringify(focusComponentPath)) {\n    editor = (\n      <textarea\n        className=\"text-input\"\n        style={{ height: `${textInputHeight}px` }}\n        ref={(textarea: HTMLTextAreaElement) => {\n          textInput = textarea;\n          if (textInput && inputCursorPosition === 0) {\n            textInput.focus();\n            textInput.selectionStart = textInput.value.length;\n            textInput.selectionEnd = textInput.selectionStart;\n            autosize(textInput as HTMLTextAreaElement);\n          } else if (textInput && inputCursorPosition > 0) {\n            textInput.focus();\n          }\n        }}\n        value={pageContent}\n        onBlur={onBlur}\n        onChange={onChangeContent}\n        onKeyDown={onEnterPressHandler}\n      />\n    );\n  } else {\n    editor = (\n      <TemplateReadOnly\n        onClick={() => {\n          // const offset = e.clientX - e.target.getBoundingClientRect().x;\n          props.setFocusElement({ currentPage, noteTitle });\n        }}\n      >\n        {getHtmlMarkup(generateAst(pageContent))}\n      </TemplateReadOnly>\n    );\n  }\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"current-page__controls\">\n        <span className=\"open-page__wrapper\">\n          <button\n            type=\"button\"\n            className={`nested-pages-button ${\n              currentPage.nestedPages.length > 0\n                ? 'nested-pages-button--show'\n                : 'nested-pages-button--hidden'\n            }`}\n            onClick={toggleNestedPagesVisibility}\n          >\n            {showNestedPages ? (\n              <ArrowDropDown fontSize=\"small\" htmlColor=\"#000\" />\n            ) : (\n              <ArrowRight fontSize=\"small\" htmlColor=\"#000\" />\n            )}\n          </button>\n          <span className=\"open-page\" />\n        </span>\n        {editor}\n      </div>\n      <div\n        className={`nestedPages ${\n          showNestedPages ? 'nestedPages--show' : 'nestedPages--hidden'\n        }`}\n      >\n        {childrenComponents}\n      </div>\n    </div>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Page);\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport shortid from 'shortid';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Page from './page/Page';\nimport { INote, IPage } from '../../models/notes.model';\nimport { selectNote } from '../../store/utils';\nimport RSCloneService from '../../services/RSClone.service';\nimport './note.scss';\nimport { setCurrentNote, setNotification } from '../../store/actionsCreators/actionsCreators';\n\nclass Note extends React.Component {\n  service: RSCloneService;\n\n  // eslint-disable-next-line react/state-in-constructor\n  state: { isSaving: boolean };\n\n  currentNote: INote | null;\n\n  // private isSaving = true;\n\n  constructor(props: any) {\n    super(props);\n    this.service = new RSCloneService();\n    this.state = {\n      isSaving: false,\n    };\n\n    const { notes, title } = (this.props as any);\n    this.currentNote = selectNote(title, notes);\n    props.setCurrentNote(this.currentNote);\n  }\n\n  getPagesComponents() {\n    const { body } = this.props as any;\n    const content: any[] = body.map(this.renderPage.bind(this));\n    return content;\n  }\n\n  async saveNote(currentNote: INote, id: string) {\n    this.setState({\n      isSaving: true,\n    });\n    try {\n      await this.service.updateNote(currentNote, id);\n      // eslint-disable-next-line no-shadow\n      const { setNotification } = (this.props as any);\n      setNotification({ body: 'The note was saved', title: '', type: 'success' });\n    } catch (e) {\n      setNotification({ body: e, title: '', type: 'error' });\n    }\n    this.setState({\n      isSaving: false,\n    });\n  }\n\n  titleClick(e: (React.MouseEvent | React.KeyboardEvent)) {\n    e.preventDefault();\n    const { title, history } = (this.props as any);\n    history.push(`/app/note/${title}`);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  renderPage(title: string, page: IPage, index: number, arr: IPage[]) {\n    return (\n      <Page\n        key={shortid.generate()}\n        noteTitle={title}\n        note={this.currentNote}\n        content={page.content}\n        nestedPages={page.nestedPages}\n        pagePath={page.pagePath}\n        currentPage={page}\n        list={arr}\n        textInputHeight={page.textInputHeight}\n      />\n    );\n  }\n\n  render() {\n    // eslint-disable-next-line react/prop-types\n    const { title, id } = (this.props as any);\n    const { isSaving } = this.state;\n    // const currentNote: INote | null = selectNote(title, notes);\n\n    const contentFromRedux: any[] = this.currentNote\n      ? this.currentNote.body.map(this.renderPage.bind(this, title))\n      : null;\n    return (\n      <div className=\"note-container\">\n        <h1 className=\"note__title\">\n          <a\n            className=\"note__title-link\"\n            href=\"/\"\n            onClick={this.titleClick.bind(this)}\n            onKeyDown={this.titleClick.bind(this)}\n          >\n            {title}\n          </a>\n        </h1>\n        <div className=\"note__pages\">\n          {contentFromRedux}\n        </div>\n        <div className=\"save-button-wrapper\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={isSaving}\n            onClick={() => this.saveNote((this.currentNote as INote), id)}\n          >\n            Save the note\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  setCurrentNote,\n  setNotification,\n};\n\nconst mapStateToProps = (state: any, props: any) => ({\n  ...props,\n  notes: state.notes,\n  body: state.body,\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Note));\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-underscore-dangle */\nimport React, { useEffect, useState } from 'react';\nimport './dailyNotes.scss';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport RSCloneService from '../../../../services/RSClone.service';\nimport { INote } from '../../../../models/notes.model';\nimport { getDayTitle } from '../../../../helpers/notes.helper';\nimport { addNote, toggleLoader } from '../../../../store/actionsCreators/actionsCreators';\nimport Note from '../../../note/Note';\nimport { getEmptyNote, selectNote } from '../../../../store/utils';\n\nconst mapStateToProps = (state: any) => ({\n  notes: state.notes,\n  sidebarIsOpen: state.sidebarIsOpen,\n});\n\nconst DailyNotes = (props:\n  { notes: INote[],\n    addNote(note: INote): void,\n    toggleLoader(isLoading: boolean): void,\n    sidebarIsOpen: boolean }) => {\n  const { notes, sidebarIsOpen } = props;\n  const service = new RSCloneService();\n  const todayTitle: string = getDayTitle();\n  let scrollEnd = false;\n\n  const [notesList, setNotes] = useState<INote[]>(notes.filter((note: INote) => note.isDaily));\n  const [init, setInit] = useState<boolean>(false);\n  const todayNote = selectNote(todayTitle, notes);\n\n  if (!todayNote && !init) {\n    setInit(true);\n    props.toggleLoader(true);\n  }\n\n  if (todayNote\n      && notesList.findIndex((item: INote) => item.title === todayTitle) !== 0 && !init) {\n    setInit(true);\n  }\n\n  if (todayNote\n      && notesList.findIndex((item: INote) => item.title === todayTitle) !== 0 && !init) {\n    setInit(true);\n  }\n\n  useEffect(() => {\n    if (init) {\n      const getNote = async () => {\n        let note: INote | null = selectNote(todayTitle, props.notes);\n\n        if (!note) {\n          const noteByTitle: { DATA: INote } = await service.getNoteByTitle(todayTitle);\n          if (noteByTitle.DATA) {\n            note = noteByTitle.DATA;\n          } else {\n            note = getEmptyNote(todayTitle);\n            note.isDaily = true;\n            const id: string = await service.addNote(note);\n            note._id = id;\n          }\n\n          props.addNote(note);\n          props.toggleLoader(false);\n        }\n\n        setNotes([note]);\n      };\n\n      getNote();\n    }\n  }, [init]);\n\n  const onScrollEnd = async () => {\n    if (notesList && notesList.length > 0 && !scrollEnd) {\n      scrollEnd = true;\n      const lastPageId = notesList.slice(-1)[0]._id;\n      const res = await service.getPreviousDailyNote(lastPageId as string);\n      const note = res.DATA;\n      if (note) {\n        scrollEnd = false;\n        props.addNote(note);\n        setNotes([...(notesList || []), note]);\n      }\n    }\n  };\n\n  const onScrollStop = (values: any) => {\n    if (!scrollEnd) {\n      const { scrollTop, scrollHeight, clientHeight } = values.srcElement;\n      const pad = 50;\n      const t = ((scrollTop + pad) / (scrollHeight - clientHeight));\n      if (t > 1) {\n        onScrollEnd();\n      }\n    }\n  };\n  let list: any[] | null = null;\n\n  if (notesList) {\n    list = notesList\n      .filter((note: INote) => note.isDaily)\n      .map((item: INote) => {\n        const NewNote: any = connect(mapStateToProps)(Note);\n        return (\n          <NewNote\n            key={item._id}\n            id={item._id}\n            title={item.title}\n          />\n        );\n      });\n  }\n\n  return (\n    <Scrollbars\n      autoHeight\n      autoHeightMin={500}\n      autoHeightMax=\"80vh\"\n      style={{\n        width: sidebarIsOpen ? 'calc(100% - 240px)' : '100%', marginLeft: sidebarIsOpen ? '240px' : '0',\n      }}\n      onScroll={onScrollStop}\n    >\n      <div className=\"daily-container\">\n        {list || 'loading'}\n      </div>\n    </Scrollbars>\n  );\n};\n\nconst mapDispatchToProps = {\n  addNote,\n  toggleLoader,\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DailyNotes));\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport shortid from 'shortid';\nimport { ArrowDropDown, ArrowRight } from '@material-ui/icons';\nimport { generateAst, getHtmlMarkup } from '../../../../helpers/notes.helper';\n\nfunction ParentsListItem(props: any) {\n  const { link } = props;\n\n  // let parents: null | any[] = null;\n  const [showNestedPages, toggleNestedPagesVisibility] = useState(true);\n\n  const content = link.content\n    .map((\n      row: { value: string },\n    ) => (\n      <div className=\"parents-list__row\" key={shortid()}>\n        <span className=\"open-page__wrapper\">\n          <span className=\"open-page\" />\n        </span>\n        {getHtmlMarkup(generateAst(row.value))}\n      </div>\n    ));\n  const markup = (\n    <div className=\"parents-list__link\">\n      <h4 className=\"parents-list__title\">\n        <button\n          type=\"button\"\n          className=\"nested-pages-button\"\n          onClick={() => { toggleNestedPagesVisibility(!showNestedPages); }}\n        >\n          {showNestedPages ? (\n            <ArrowDropDown fontSize=\"small\" htmlColor=\"#000\" />\n          ) : (\n            <ArrowRight fontSize=\"small\" htmlColor=\"#000\" />\n          )}\n        </button>\n        <Link className=\"page-link\" key={shortid()} to={`/app/note/${link.pageLink}`}>{link.pageLink}</Link>\n      </h4>\n      <div\n        className={`parents-list__children ${\n          showNestedPages ? 'parents-list__children--show' : 'parents-list__children--hidden'\n        }`}\n      >\n        {content}\n      </div>\n    </div>\n  );\n\n  return (\n    markup\n  );\n}\n\nexport default ParentsListItem;\n","import React from 'react';\nimport shortid from 'shortid';\nimport { INote, IParent } from '../../../models/notes.model';\nimport './parentsList.scss';\nimport ParentsListItem from './parentsListItem/ParentsListItem';\n\nfunction ParentsList(props: any) {\n  const { note } = props;\n\n  let parents: null | any[] = null;\n\n  if ((note as INote) && (note as INote).parents) {\n    parents = ((note as INote).parents as IParent[])\n      .map((item: IParent) => <ParentsListItem key={shortid()} link={item} />);\n  }\n\n  return (\n    <div className=\"parents-list\">\n      {parents && parents.length > 0\n        ? (\n          <h3 className=\"title\">\n            {(parents && parents.length) || 0}\n            Linked References\n          </h3>\n        ) : ''}\n      {parents}\n    </div>\n  );\n}\n\nexport default ParentsList;\n","/* eslint-disable react/destructuring-assignment */\n/* eslint-disable no-underscore-dangle */\nimport React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport RSCloneService from '../../../../services/RSClone.service';\nimport { INote } from '../../../../models/notes.model';\nimport { addNote, toggleLoader } from '../../../../store/actionsCreators/actionsCreators';\nimport Note from '../../../note/Note';\nimport { getEmptyNote } from '../../../../store/utils';\nimport ParentsList from '../../../note/parentsLIst/ParentsList';\n\nconst mapStateToProps = (state: any) => ({\n  notes: state.notes,\n  sidebarIsOpen: state.sidebarIsOpen,\n});\n\nconst SingleNote = (props: any) => {\n  const { match, sidebarIsOpen } = props;\n  const { params } = match;\n  const { name } = params;\n  const service = new RSCloneService();\n\n  const [singleNote, setNote] = useState<INote | null>(null);\n\n  if (singleNote && singleNote.title !== name) {\n    props.toggleLoader(true);\n    setNote(null);\n  }\n\n  useEffect(() => {\n    props.toggleLoader(true);\n    const getNote = async () => {\n      let note: INote | null = singleNote;\n\n      if (!singleNote) {\n        const noteByTitle: { DATA: INote } = await service.getNoteByTitle(name);\n        if (noteByTitle.DATA) {\n          note = noteByTitle.DATA;\n        } else {\n          note = getEmptyNote(name);\n          const id: string = await service.addNote(note);\n          note._id = id;\n        }\n\n        setNote(note);\n        props.addNote(note);\n        props.toggleLoader(false);\n      }\n    };\n\n    getNote();\n  }, [singleNote]);\n\n  let note: any | null = null;\n\n  if (singleNote) {\n    const NewNote: any = connect(mapStateToProps)(Note);\n    note = (\n      <NewNote\n        key={singleNote._id}\n        id={singleNote._id}\n        title={singleNote.title}\n      />\n    );\n  }\n\n  return (\n    <Scrollbars\n      autoHeight\n      autoHeightMin={500}\n      autoHeightMax=\"80vh\"\n      style={{\n        width: sidebarIsOpen ? 'calc(100% - 240px)' : '100%', marginLeft: sidebarIsOpen ? '240px' : '0',\n      }}\n    >\n      <div className=\"daily-container\">\n        {note}\n      </div>\n      <div>\n        <ParentsList note={singleNote} />\n      </div>\n    </Scrollbars>\n  );\n};\n\nconst mapDispatchToProps = {\n  addNote,\n  toggleLoader,\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SingleNote));\n","import React from 'react';\n\nconst Rightbar = () => (\n  <div>Test</div>\n);\n\nexport default Rightbar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux'; // @ts-ignore\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport { IInitialState } from '../../../../index';\nimport { INotification } from '../../../../models/notes.model';\n\nconst Notification = () => {\n  const notification = useSelector<IInitialState>((state) => state.notification);\n  const [message, setMessage] = useState<any>(null);\n  const [show, setShow] = useState<boolean>(false);\n\n  if (notification && !show) {\n    setMessage(notification);\n    setShow(true);\n  }\n\n  const getNotification = (msg: INotification) => {\n    const args = [msg.body, msg.title, 5000];\n    switch (msg.type) {\n      case 'info':\n        NotificationManager.info(...args);\n        break;\n      case 'success':\n        NotificationManager.success(...args);\n        break;\n      case 'warning':\n        NotificationManager.warning(...args);\n        break;\n      case 'error':\n        NotificationManager.error(...args);\n        break;\n      default:\n        NotificationManager.error(...args);\n    }\n  };\n\n  useEffect(() => {\n    if (message && show) {\n      const toastr = (message as INotification);\n      setShow(false);\n      getNotification(toastr);\n    }\n  }, [show]);\n\n  return (\n    <NotificationContainer />\n  );\n};\n\nexport default Notification;\n","import { Route, Switch } from 'react-router-dom';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Navbar from '../../navbar/Navbar';\nimport Main from '../../containers/main/Main';\nimport Graph from './graph-overview/GraphOverview';\nimport AllPages from './all-pages/AllPages';\nimport Sidebar from '../../sidebar/Sidebar';\nimport DailyNotes from './daily-notes/DailyNotes';\nimport SingleNote from './single-note/SingleNote';\nimport Rightbar from '../../rightbar/Rightbar';\nimport Notification from './notification/Notification';\nimport { IInitialState } from '../../../index';\nimport './applicationPage.scss';\n\nconst ApplicationPage = (match: any) => {\n  const { match: { path } } = match;\n  const rightSidebarIsOpen = useSelector<IInitialState>((state) => state.rightSidebarIsOpen);\n  const isLoading = useSelector<IInitialState>((state) => state.isLoading);\n  const sidebarIsOpen = useSelector<IInitialState>((state) => state.sidebarIsOpen);\n  // @ts-ignore\n  return (\n    <>\n      {/* @ts-ignore */}\n      <Navbar />\n      <Main>\n        <Switch>\n          <Route path={path} component={DailyNotes} exact />\n          <Route\n            path={`${path}/graph`}\n            component={Graph}\n          />\n          <Route\n            path={`${path}/pages`}\n            component={AllPages}\n          />\n          <Route\n            path={`${path}/note/:name`}\n            // eslint-disable-next-line react/jsx-props-no-spreading\n            render={(props) => <SingleNote {...props} />}\n            exact\n          />\n          <Route render={() => <h1>Page not found</h1>} />\n        </Switch>\n      </Main>\n      <Sidebar />\n      {rightSidebarIsOpen ? <Rightbar /> : null}\n      {isLoading && (\n      <div className=\"overlay\">\n        <CircularProgress\n          size={100}\n          className=\"spinner\"\n          style={{ marginRight: sidebarIsOpen ? '240px' : '0' }}\n        />\n      </div>\n      )}\n      <Notification />\n    </>\n  );\n};\n\nexport default ApplicationPage;\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst PrivateRoute = ({ component: Component, ...rest } : { component: React.FC, path: '/app' }) => {\n  const isLoggedIn = useSelector((state: any) => state.isLoggedIn);\n  console.log(`${isLoggedIn}dsadasww`);\n  return (\n    <Route\n        // eslint-disable-next-line react/jsx-props-no-spreading\n      {...rest}\n      render={(props: any) => (\n        isLoggedIn\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          ? <Component {...props} />\n          : <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n      )}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport './app.scss';\nimport {\n  BrowserRouter as Router, Switch,\n  Route, Redirect,\n} from 'react-router-dom';\n// import DailyNotes from '../pages/daily-notes/DailyNotes';\nimport { useSelector } from 'react-redux';\nimport MainPage from '../pages/main-page/MainPage';\nimport RSCloneServiceContext from '../rsCloneServiceContext';\nimport RSCloneService from '../../services/RSClone.service';\nimport ApplicationPage from '../pages/application-page/ApplicationPage';\nimport PrivateRoute from '../routes/PrivateRoute';\n\nconst rsCloneService = new RSCloneService();\n\nfunction App() {\n  const isLoggedIn = useSelector((state: any) => state.isLoggedIn);\n  console.log(isLoggedIn);\n\n  return (\n    <RSCloneServiceContext.Provider value={rsCloneService}>\n      <div className=\"app\">\n        <Router>\n          <Switch>\n            <Route exact path=\"/\">\n              {isLoggedIn ? <Redirect to=\"/app\" /> : <MainPage />}\n            </Route>\n            <PrivateRoute path=\"/app\" component={ApplicationPage} />\n          </Switch>\n        </Router>\n      </div>\n    </RSCloneServiceContext.Provider>\n  );\n}\nexport default App;\n","/* eslint-disable no-case-declarations */\n// @ts-ignore\n// import { updateNoteByTitle } from '../utils';\n// import shortid from 'shortid';\nimport {\n  CHANGE_FOCUS_ELEMENT,\n  UPDATE_NOTE_BODY,\n  SET_CURRENT_NOTE,\n  ADD_NOTE,\n  USER_LOGGED_IN,\n  // UPDATE_CONTENT_RECEIVED,\n  // UPDATE_CONTENT,\n  ADD_SHORTCUT,\n  USER_LOGGED_OUT,\n  GET_USER_DATA,\n  OPEN_SIDEBAR,\n  CLOSE_SIDEBAR,\n  OPEN_RIGHT_SIDEBAR, CLOSE_RIGHT_SIDEBAR, REMOVE_SHORTCUT, TOGGLE_LOADER, SET_NOTIFICATION,\n} from '../actions/actions';\nimport { INote } from '../../models/notes.model';\n\nfunction reducer(state: any, action: any) {\n  // let notes: INote[];\n  switch (action.type) {\n    case CHANGE_FOCUS_ELEMENT:\n      return { ...state, focusComponentPath: action.focusComponentPath };\n    case UPDATE_NOTE_BODY:\n      // const notes = updateNoteByTitle(state.notes, action.title, action.body);\n      return {\n        ...state,\n        body: action.body,\n        // notes,\n        focusComponentPath: action.focusComponentPath,\n      };\n    // case UPDATE_CONTENT_RECEIVED:\n    //   notes = updateNoteByTitle(\n    //     state.notes, action.payload.title, action.payload.body, [],\n    //   );\n    //   return {\n    //     ...state,\n    //     body: action.body,\n    //     notes,\n    //     // pageLinks: action.pageLinks, title: noteTitle,\n    //     focusComponentPath: action.focusComponentPath,\n    //   };\n    // case UPDATE_CONTENT:\n    //   notes = updateNoteByTitle(\n    //     state.notes, action.title, action.body, [],\n    //   );\n    //   return {\n    //     ...state,\n    //     body: action.body,\n    //     notes,\n    //     focusComponentPath: action.focusComponentPath,\n    //   };\n    case ADD_NOTE:\n      const noteIndex = state.notes.findIndex((item: INote) => item.title === action.note.title);\n\n      let updatedNotes: INote[] = [...state.notes];\n\n      if (noteIndex > -1) {\n        updatedNotes.splice(noteIndex, 1, action.note);\n      } else {\n        updatedNotes = [...updatedNotes, action.note];\n      }\n      return { ...state, notes: updatedNotes };\n    case SET_CURRENT_NOTE:\n      return { ...state, currentNote: action.note };\n    case USER_LOGGED_IN:\n      return { ...state, isLoggedIn: true, userData: action.userData };\n    case USER_LOGGED_OUT:\n      return { ...state, isLoggedIn: action.isLoggedIn };\n    case GET_USER_DATA:\n      return { ...state, shortcuts: action.payload };\n    case ADD_SHORTCUT:\n      return { ...state, shortcuts: [...state.shortcuts, action.payload] };\n    case REMOVE_SHORTCUT:\n      return { ...state, shortcuts: action.payload };\n    case OPEN_SIDEBAR:\n      return { ...state, sidebarIsOpen: true };\n    case CLOSE_SIDEBAR:\n      return { ...state, sidebarIsOpen: false };\n    case OPEN_RIGHT_SIDEBAR:\n      return { ...state, rightSidebarIsOpen: action.payload };\n    case CLOSE_RIGHT_SIDEBAR:\n      return { ...state, rightSidebarIsOpen: action.payload };\n    case TOGGLE_LOADER:\n      return { ...state, isLoading: action.payload };\n    case SET_NOTIFICATION: {\n      return { ...state, notification: action.payload };\n    }\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport './index.css';\nimport App from './components/app/App';\nimport reducer from './store/reducers/reducer';\nimport { INote, INotification, IPage } from './models/notes.model';\n\n// const rsCloneService = new RSCloneService();\n\nexport interface IInitialState {\n    isLoggedIn: boolean,\n    notes: [],\n    body: IPage[],\n    currentNote: INote | null;\n    focusComponentPath?: { [k: string]: (string | number)[] },\n    userData: {\n        username: string | null,\n        email: string | null,\n    },\n    shortcuts: string[],\n    sidebarIsOpen: boolean,\n    rightSidebarIsOpen: boolean,\n    isLoading: boolean;\n    notification: INotification | null;\n}\n\nconst initialState : IInitialState = {\n  isLoggedIn: !!localStorage.getItem('auth-token'),\n  userData: {\n    username: localStorage.getItem('username'),\n    email: localStorage.getItem('email'),\n  },\n  currentNote: null,\n  notes: [],\n  body: [],\n  shortcuts: [],\n  sidebarIsOpen: true,\n  rightSidebarIsOpen: false,\n  isLoading: false,\n  notification: null,\n};\n\nconst composedEnhancer = applyMiddleware(thunkMiddleware);\nconst store = createStore(reducer, initialState, composedEnhancer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}