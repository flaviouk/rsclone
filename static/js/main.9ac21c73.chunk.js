(this.webpackJsonprsclone=this.webpackJsonprsclone||[]).push([[0],{186:function(e,t,n){},348:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},421:function(e,t,n){},423:function(e,t,n){},424:function(e,t,n){},599:function(e,t){},601:function(e,t){},612:function(e,t){},614:function(e,t){},641:function(e,t){},643:function(e,t){},644:function(e,t){},649:function(e,t){},651:function(e,t){},670:function(e,t){},682:function(e,t){},685:function(e,t){},690:function(e,t,n){},691:function(e,t,n){},700:function(e,t,n){},701:function(e,t,n){},702:function(e,t,n){},705:function(e,t,n){},706:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(19),s=n.n(o),i=n(15),l=n(82),u=n(355),d=(n(412),n(413),n(30)),b=n(22),j=(n(414),n(7)),p=(n(415),n(100)),h=n(769),f=n(756),O=n(380),g=n(121),m=n(767),x=n.p+"static/media/Roam-Group-min.c6c7267c.png",v=n.p+"static/media/HujakHujakProd.6d379f3d.png",y=n(9),N=n.n(y),w=n(17),k=n(20),C=n(8),S=n(382),P=c.a.createContext({}),I=n(11),_=function(e,t){return t.find((function(t){return t.title===e}))||null},T=function(e){return{title:e,body:[{pageId:0,pageLink:"",pagePath:[0],content:"",neighbors:[],nestedPages:[],textInputHeight:24}]}},E=function(e,t,n,a){if(!e.parents)return[{pageLink:t,content:[{pagePath:JSON.stringify(a.pagePath),value:n}]}];var r=e.parents.findIndex((function(e){return e.pageLink===t}));if(-1===r)return[].concat(Object(I.a)(e.parents),[{pageLink:t,content:[{pagePath:JSON.stringify(a.pagePath),value:n}]}]);var c=Object(I.a)(e.parents),o=c[r].content.findIndex((function(e){return JSON.stringify(a.pagePath)===e.pagePath})),s=Object(I.a)(c[r].content);o>-1?(s.splice(o,1,s[o]),s[o].value=n):s=[].concat(Object(I.a)(s),[{pagePath:JSON.stringify(a.pagePath),value:n}]);var i={pageLink:c[r].pageLink,content:Object(I.a)(s)};return c.splice(r,1,i),c},D=n(63),A=function(){var e=localStorage.getItem("auth-token");if(!e)throw new Error("authToken is not defined or you are not authorized. Check localStorage");return e},L=function e(){var t=this;Object(D.a)(this,e),this.getResource=function(){var e=Object(w.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t),n);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(a.status));case 5:if(a.headers.get("content-type")){e.next=7;break}return e.abrupt("return",{});case 7:return e.abrupt("return",a.json());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.login=function(){var e=Object(w.a)(N.a.mark((function e(n){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request"),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=4,t.getResource("/api/login",a);case 4:return r=e.sent,localStorage.setItem("auth-token",r.token),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=Object(w.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A())}},e.next=3,t.getResource("/api/logout",n);case 3:return localStorage.removeItem("auth-token"),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),this.createUser=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.abrupt("return",t.getResource("/api/user",a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteUser=Object(w.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{Authorization:"Bearer ".concat(A())}},e.next=3,t.getResource("/api/user/me",n);case 3:return localStorage.removeItem("auth-token"),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),this.getUser=Object(w.a)(N.a.mark((function e(){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{Authorization:"Bearer ".concat(A())}},e.next=3,t.getResource("/api/user/me",n);case 3:return a=e.sent,e.abrupt("return",{email:a.email,username:a.name,shortcuts:a.shortcuts});case 5:case"end":return e.stop()}}),e)}))),this.updateUser=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(n).length){e.next=2;break}throw new Error("At least one field is required");case 2:return a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A())},body:JSON.stringify(n)},e.abrupt("return",t.getResource("/api/user/me",a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addNote=function(){var e=Object(w.a)(N.a.mark((function e(n){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A())},body:JSON.stringify(n)},e.next=3,t.getResource("/api/note",a);case 3:return r=e.sent,e.abrupt("return",r.DATA._id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateNote=function(){var e=Object(w.a)(N.a.mark((function e(n,a){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A())},body:JSON.stringify(n)},e.abrupt("return",t.getResource("/api/note/".concat(a),r));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getNote=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{Authorization:"Bearer ".concat(A())}},e.abrupt("return",t.getResource("/api/note/".concat(n),a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteNote=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",headers:{Authorization:"Bearer ".concat(A())}},e.abrupt("return",t.getResource("/api/note/".concat(n),a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getNotes=Object(w.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{Authorization:"Bearer ".concat(A())}},e.abrupt("return",t.getResource("/api/notes",n));case 2:case"end":return e.stop()}}),e)}))),this.getNoteByTitle=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{Authorization:"Bearer ".concat(A())}},e.abrupt("return",t.getResource("/api/note/title/".concat(n),a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPreviousDailyNote=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{Authorization:"Bearer ".concat(A())}},e.abrupt("return",t.getResource("/api/note/daily/".concat(n),a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.userUpdatePassword=function(){var e=Object(w.a)(N.a.mark((function e(n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A())},body:JSON.stringify(n)},e.abrupt("return",t.getResource("/api/user/me/password",a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R="CHANGE_FOCUS_ELEMENT",U="UPPDATE_NOTE_BODY",B="USER_LOGGED_IN",M="USER_LOGGED_OUT",H="GET_USER_DATA",F="ADD_SHORTCUT",z="REMOVE_SHORTCUT",G="CLOSE_SIDEBAR",W="OPEN_SIDEBAR",J="OPEN_RIGHT_SIDEBAR",q="CLOSE_RIGHT_SIDEBAR",Y="ADD_NOTE",V="SET_CURRENT_NOTE",K="TOGGLE_LOADER",Q="SET_NOTIFICATION",$=function e(t,n){for(var a=0;a<n.length;a+=1){var r=n[a].pagePath,c=[].concat(Object(I.a)(t),Object(I.a)(r.slice(-2)));n[a].pagePath=c,n[a].nestedPages.length>0&&e(c,n[a].nestedPages)}};function X(e){return{type:Y,note:e}}var Z=function(e){return localStorage.setItem("username",e.user.name),localStorage.setItem("email",e.user.email),{type:B,userData:{username:e.user.name,email:e.user.email}}},ee=function(e){return{type:K,payload:e}},te=function(e){return{type:Q,payload:e}},ne=Object(g.a)((function(){return Object(m.a)({textField:{padding:"7px"}})})),ae=Object(i.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),{onUserLoggedIn:Z})((function(e){var t=e.isLoggedIn,n=e.onUserLoggedIn,c=ne(),o=Object(r.useState)({name:"",email:"",password:""}),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(b.g)(),d=Object(r.useContext)(P),h=function(e){var t=e.target,n=t.name,a=t.value;l(Object(C.a)(Object(C.a)({},i),{},Object(k.a)({},n,a)))};return Object(a.jsxs)("form",{className:"registration",onSubmit:function(e){e.preventDefault(),d.createUser(i).then(Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,d.login(i).then(function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t),u.push("/app");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))))},children:[Object(a.jsx)(S.a,{name:"name",className:c.textField,onChange:h,label:"username",variant:"outlined",required:!0}),Object(a.jsx)(S.a,{name:"email",className:c.textField,onChange:h,label:"e-mail",variant:"outlined",type:"email",required:!0}),Object(a.jsx)(S.a,{name:"password",className:c.textField,onChange:h,label:"password",variant:"outlined",type:"password",required:!0}),Object(a.jsx)(p.a,{type:"submit",variant:"outlined",children:"Register"})]})})),re=Object(g.a)((function(){return Object(m.a)({textField:{padding:"7px"}})})),ce=Object(i.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),{onUserLoggedIn:Z})((function(e){var t=e.onUserLoggedIn,n=re(),c=Object(b.g)(),o=Object(r.useContext)(P),s=Object(r.useState)({email:"",password:""}),i=Object(j.a)(s,2),l=i[0],u=i[1],d=function(e){var t=e.target,n=t.name,a=t.value;u(Object(C.a)(Object(C.a)({},l),{},Object(k.a)({},n,a)))},h=function(){var e=Object(w.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,o.login(l).then((function(e){t(e),c.push("/app")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{className:"registration",onSubmit:h,children:[Object(a.jsx)(S.a,{name:"email",className:n.textField,onChange:d,label:"e-mail",variant:"outlined",type:"email",required:!0}),Object(a.jsx)(S.a,{name:"password",className:n.textField,onChange:d,label:"password",variant:"outlined",type:"password",required:!0}),Object(a.jsx)(p.a,{type:"submit",variant:"outlined",children:"Sign In"})]})})),oe=Object(g.a)((function(){return Object(m.a)({loginButton:{textTransform:"none",color:"#fff",fontWeight:"bold",fontSize:"15px","&:hover":{backgroundColor:"rgb(255 255 255 / 0.3)"}},signUpButton:{marginTop:"15px",padding:"10px",paddingLeft:"15px",paddingRight:"15px",fontFamily:"Inter, sans-serif",textTransform:"none",fontWeight:"bold",backgroundColor:"rgb(19, 124, 189)",letterSpacing:"0.04em"},registrationForm:{width:"500px",height:"500px",backgroundColor:"#fff",position:"absolute",left:"30%",top:"20%"},divider:{backgroundColor:"#ffff"}})})),se=function(){var e=oe(),t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(a.jsx)("div",{className:e.registrationForm,children:Object(a.jsx)(ae,{})}),b=Object(a.jsx)("div",{className:e.registrationForm,children:Object(a.jsx)(ce,{})});return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsxs)("div",{className:"home__header",children:[Object(a.jsx)("div",{className:"home__header-logo",children:Object(a.jsx)("img",{width:"20%",src:v,alt:"header logo"})}),Object(a.jsxs)("div",{className:"home__header-login",children:[Object(a.jsx)(p.a,{className:e.loginButton,color:"default",onClick:function(){u(!0)},children:"Sign In"}),Object(a.jsx)(O.a,{open:l,onClose:function(){u(!1)},children:b})]})]}),Object(a.jsxs)("div",{className:"home__main",children:[Object(a.jsx)("section",{className:"block",children:Object(a.jsxs)("div",{className:"block__description",children:[Object(a.jsxs)("div",{className:"home__main_title",children:[Object(a.jsx)("span",{children:"A note-taking tool"}),Object(a.jsx)("span",{children:"for networked thought."})]}),Object(a.jsx)("div",{className:"home__main_subtitle",children:"As easy to use as a document. As powerful as a graph database. Roam helps you organize your research for the long haul."})]})}),Object(a.jsx)(p.a,{className:e.signUpButton,variant:"contained",color:"primary",onClick:function(){o(!0)},children:"Sign Up"}),Object(a.jsx)(O.a,{open:c,onClose:function(){o(!1)},children:d}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{width:"100%",src:x,alt:"roam group"})})]}),Object(a.jsx)("div",{className:"home__footer",children:Object(a.jsxs)("div",{className:"home__footer-createdBy",children:[Object(a.jsx)("span",{children:"Made by"}),Object(a.jsxs)("div",{className:"home__footer-avatars",children:[Object(a.jsxs)("div",{className:"home__footer-avatar",children:[Object(a.jsx)("a",{href:"https://github.com/kornienko199004",target:"_blank",rel:"noreferrer",className:"home__footer-avatars_link",children:Object(a.jsx)(h.a,{alt:"Aleksey",src:"https://avatars1.githubusercontent.com/u/30842914?s=460&v=4"})}),Object(a.jsx)(f.a,{orientation:"vertical",variant:"middle",className:e.divider})]}),Object(a.jsxs)("div",{className:"home__footer-avatar",children:[Object(a.jsx)("a",{href:"https://github.com/mary-jane77",target:"_blank",rel:"noreferrer",className:"home__footer-avatars_link",children:Object(a.jsx)(h.a,{alt:"Elizabeth",src:"https://avatars2.githubusercontent.com/u/58233456?s=460&v=4"})}),Object(a.jsx)(f.a,{orientation:"vertical",variant:"middle",className:e.divider})]}),Object(a.jsxs)("div",{className:"home__footer-avatar",children:[Object(a.jsx)("a",{href:"https://github.com/GertValiakhmetov",target:"_blank",rel:"noreferrer",className:"home__footer-avatars_link",children:Object(a.jsx)(h.a,{alt:"Gert",src:"https://avatars2.githubusercontent.com/u/52245456?s=460&u=0418cf1c43f231691c7a93e764f71448bc8e932a&v=4"})}),Object(a.jsx)(f.a,{orientation:"vertical",variant:"middle",className:e.divider})]}),Object(a.jsx)("div",{className:"home__footer-avatar",children:Object(a.jsx)("a",{href:"https://github.com/kirill-study",target:"_blank",rel:"noreferrer",className:"home__footer-avatars_link",children:Object(a.jsx)(h.a,{alt:"Kirill",src:"https://avatars1.githubusercontent.com/u/23706384?s=460&v=4"})})})]})]})})]})},ie=function(){return Object(a.jsx)(se,{})},le=n(716),ue=n(86),de=(n(421),n(362)),be=n.n(de),je=n(360),pe=n.n(je),he=n(361),fe=n.n(he),Oe=n(152),ge=n.n(Oe),me=n(14),xe=n(383),ve=Object(g.a)((function(e){return{search:Object(k.a)({position:"relative",borderRadius:"100px",backgroundColor:Object(me.b)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(me.b)("rgba(19,19,19,0.5)",.2)},marginRight:2,width:210,float:"right"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"black"},inputInput:Object(k.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),ye=function(){var e=ve();return Object(a.jsxs)("div",{className:e.search,children:[Object(a.jsx)("div",{className:e.searchIcon,children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(xe.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})},Ne=Object(g.a)((function(){return Object(m.a)({calendar:{padding:0}})})),we=Object(l.c)(b.h,Object(i.b)(null,{onAddShortcut:function(e){return{type:F,payload:e}},onRemoveShortcut:function(e){return{type:z,payload:e}},onCloseRightSidebar:function(){return{type:q,payload:!1}},onOpenRightSidebar:function(){return{type:J,payload:!0}}}))((function(e){var t=e.location.pathname,n=e.onAddShortcut,c=e.onCloseRightSidebar,o=e.onOpenRightSidebar,s=e.onRemoveShortcut,l=Ne(),u=Object(r.useContext)(P),d=Object(i.c)((function(e){return e.shortcuts})),b=Object(r.useState)(!1),p=Object(j.a)(b,2),h=p[0],f=p[1];Object(r.useEffect)((function(){0!==d.length&&u.updateUser({shortcuts:d})}),[d]);return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(ye,{}),Object(a.jsx)(ue.a,{className:l.calendar,children:Object(a.jsx)(pe.a,{className:"header__calendar"})}),t.includes("/note/")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue.a,{className:l.calendar,onClick:function(){if(t){var e=/[^/]*$/.exec("".concat(t))[0];if(d.includes(e)){var a=d.filter((function(t){return!(t===e)}));s(a)}else n(e)}return!1},children:Object(a.jsx)(fe.a,{className:"header__favourite"})}),Object(a.jsx)(ue.a,{className:l.calendar,children:Object(a.jsx)(be.a,{className:"header__favourite",onClick:function(){f(!0),h?o(!0):c(!1)}})})]}):null]})})),ke=(n(423),function(e){var t=e.children;return Object(a.jsx)("div",{className:"main-container",children:t})}),Ce=(n(424),n(363)),Se=n.n(Ce),Pe=function(){var e=Object(w.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return{id:e.title,label:e.title}}));case 2:return n=e.sent,a=[],t.map((function(e){return e.parents.forEach(function(){var t=Object(w.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.push({from:e.title,to:n.pageLink});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),e.abrupt("return",{nodes:n,edges:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-100).toString(),_e={toggleLoader:ee},Te=Object(b.h)(Object(i.b)(null,_e)((function(e){var t=Object(r.useState)(null),n=Object(j.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),l=Object(j.a)(s,2),u=l[0],d=l[1],p=Object(r.useContext)(P),h=Object(i.c)((function(e){return e.sidebarIsOpen}));c||e.toggleLoader(!0),Object(r.useEffect)((function(){(function(){var t=Object(w.a)(N.a.mark((function t(){var n,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getNotes();case 2:return n=t.sent,t.next=5,Pe(n.DATA);case 5:a=t.sent,o(a),e.toggleLoader(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,O=h?f-270:f,g=h?270:0;console.log(h);var m={autoResize:!0,height:"".concat(Ie,"px"),width:"".concat(O,"px"),locale:"en",nodes:{color:"#3f51b5",fixed:!1,font:"13px sans-serif #000000",shape:"dot"},edges:{arrows:{to:{enabled:!1,type:"bar"}},color:"black",scaling:{label:!0}},layout:{hierarchical:!0}};return u?Object(a.jsx)(b.a,{to:u}):c&&Object(a.jsx)("div",{className:"container",style:{marginLeft:"".concat(g,"px")},children:Object(a.jsx)(Se.a,{graph:c,options:m,events:{click:function(e){var t=e.nodes;t[0]&&d("/app/note/".concat(t[0]))}}})})}))),Ee=(n(186),n(155)),De=n(367),Ae=n.n(De),Le=n(763),Re=n(221),Ue=n(5),Be=n(95),Me=n.n(Be),He=function(e){return e.map((function(e){return{id:e._id,title:e.title,wordCount:e.body?function(e){var t=0;return Array.isArray(e)&&e.length&&e.forEach((function(e){t+=e.content.split(" ").length,Array.isArray(e.nestedPages)&&e.nestedPages.length&&e.nestedPages.forEach((function(e){t+=e.content.split(" ").length,Array.isArray(e.nestedPages)&&e.nestedPages.length&&e.nestedPages.forEach((function(e){t+=e.content.split(" ").length}))}))})),t}(e.body):0,mentions:e.parents.length,updated:new Date(e.modification_notes[e.modification_notes.length-1].modified_on).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),created:function(e){var t=new Date(e),n=t.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];return"".concat(a," ").concat(n).concat(function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(n),", ").concat(t.getFullYear())}(e.modification_notes[0].modified_on)}}))},Fe=n(359),ze=n(87),Ge=n(758),We=n(365),Je=n.n(We),qe=n(757),Ye=n(714),Ve=n(715);function Ke(e){var t=e.text,n=e.state,r=e.handleChange,c=e.name;return Object(a.jsx)(qe.a,{row:!0,children:Object(a.jsx)(Ye.a,{control:Object(a.jsx)(Ve.a,{checked:n,onChange:r,name:c,color:"primary"}),label:t})})}var Qe=Object(Ue.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(a.jsx)(Fe.a,Object(C.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),$e=Object(Ue.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ze.a);function Xe(e){var t=e.state,n=e.handleChange,r=c.a.useState(null),o=Object(j.a)(r,2),s=o[0],i=o[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(Re.a,{title:"Show/Hide columns",arrow:!0,children:Object(a.jsx)(p.a,{className:"eye","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(a.jsx)(Je.a,{className:"btn"})})}),Object(a.jsxs)(Qe,{id:"customized-menu",style:{width:300},anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){i(null)},children:[Object(a.jsx)(Ge.a,{style:{marginLeft:16},className:"menu-text",primary:"Show or Hide Columns"}),Object(a.jsx)($e,{children:Object(a.jsx)(Ke,{handleChange:n,state:t.checkedA,name:"checkedA",text:"Word Count"})}),Object(a.jsx)($e,{children:Object(a.jsx)(Ke,{handleChange:n,state:t.checkedB,name:"checkedB",text:"Mentions"})}),Object(a.jsx)($e,{children:Object(a.jsx)(Ke,{handleChange:n,state:t.checkedC,name:"checkedC",text:"Updated"})}),Object(a.jsx)($e,{children:Object(a.jsx)(Ke,{handleChange:n,state:t.checkedD,name:"checkedD",text:"Created"})})]})]})}var Ze=Object(g.a)((function(e){return{search:Object(k.a)({position:"relative",borderRadius:"100px",backgroundColor:" #BFCCD6","&:hover":{opacity:.7},marginRight:2,width:210,float:"right",opacity:.4},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"black"},inputInput:Object(k.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),et=function(e){var t=e.rowsInfo,n=e.initialRows,r=Ze(),c=Object(j.a)(t,2),o=c[0],s=c[1];return Object(a.jsxs)("div",{className:r.search,children:[Object(a.jsx)("div",{className:r.searchIcon,children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(xe.a,{placeholder:"Search All Pages",classes:{root:r.inputRoot,input:r.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return""!==e.target.value?s((t=o,a=e.target.value,t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())?e:null})))):s(n);var t,a}})]})},tt=n(759),nt=n(762),at=n(761),rt=n(760),ct=n(217),ot=n.n(ct),st=n(712),it=n(713),lt=Object(Ue.a)({root:{minWidth:"49px"}})(p.a);function ut(e){var t=e.selected,n=e.deleteRows,c=e.isVisible,o=Object(r.useState)(!1),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(j.a)(t,2),d=u[0],b=u[1],h=function(){l(!1)},f=1===d.length||21===d.length?"note":"notes";return c?Object(a.jsxs)("span",{children:[Object(a.jsx)(Re.a,{title:"Delete selected pages",arrow:!0,children:Object(a.jsx)(lt,{children:Object(a.jsx)(ot.a,{className:"btn",onClick:function(){l(!0)}})})}),Object(a.jsxs)(tt.a,{className:"dialog",open:i,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(rt.a,{id:"alert-dialog-title",children:"Are you sure you want to permanently delete ".concat(d.length," ").concat(f,"?")}),Object(a.jsx)(at.a,{children:Object(a.jsx)(st.a,{className:"list-item",children:d.map((function(e){var t=1===e.data.mentions?"Mention":"Mentions",n=1===e.data.wordCount?"Word":"Words";return Object(a.jsx)(it.a,{children:Object(a.jsx)(Ge.a,{primary:e.data.title,secondary:"".concat(e.data.mentions," ").concat(t,", ").concat(e.data.wordCount," ").concat(n)})},e.data.id)}))})}),Object(a.jsxs)(nt.a,{children:[Object(a.jsx)(p.a,{onClick:function(){b([]),h()},color:"primary",variant:"outlined",children:"Cancel"}),Object(a.jsx)(p.a,{onClick:function(){n(d),h()},variant:"contained",color:"secondary",autoFocus:!0,children:"Yes, delete ".concat(f)})]})]})]}):Object(a.jsx)(Re.a,{title:"First select pages to delete",arrow:!0,children:Object(a.jsx)(lt,{children:Object(a.jsx)(ot.a,{className:"btn"})})})}var dt=n(85),bt=n(98),jt=n(97),pt=n(156),ht=n.n(pt),ft=n(366),Ot=n.n(ft),gt=n(708),mt=ht.a.ExcelFile,xt=ht.a.ExcelFile.ExcelSheet,vt=ht.a.ExcelFile.ExcelColumn,yt=Object(gt.a)({root:{minWidth:"49px",minHeight:"24px"}})(p.a),Nt=function(e){Object(bt.a)(n,e);var t=Object(jt.a)(n);function n(){return Object(D.a)(this,n),t.apply(this,arguments)}return Object(dt.a)(n,[{key:"render",value:function(){var e=this.props.rows;return Object(a.jsx)(mt,{type:"button",element:Object(a.jsx)(Re.a,{title:"Export the table",arrow:!0,children:Object(a.jsx)(yt,{children:Object(a.jsx)(Ot.a,{className:"btn"})})}),children:Object(a.jsxs)(xt,{data:e,name:"Notes",children:[Object(a.jsx)(vt,{label:"Title",value:"title"}),Object(a.jsx)(vt,{label:"WordCount",value:"wordCount"}),Object(a.jsx)(vt,{label:"Mentions",value:"mentions"}),Object(a.jsx)(vt,{label:"Updated",value:"updated"}),Object(a.jsx)(vt,{label:"Created",value:"created"})]})})}}]),n}(c.a.Component),wt=Object(g.a)({root:{textAlign:"center",border:"none","& .MuiDataGrid-colCellWrapper":{backgroundColor:"rgba(191, 204, 214, 0.4)",borderRadius:"4px",border:"none"},"& .MuiDataGrid-colCell":{backgroundColor:"rgba(191, 204, 214, 0.4)",align:"center"},"& .MuiDataGrid-cellLeft":{textAlign:"center"},"& .MuiDataGrid-colCellTitleContainer":{justifyContent:"center"},"& .title":{justifySelf:"start"},"& .MuiDataGrid-row:hover":{cursor:"pointer",backgroundColor:"rgba(63, 81, 181, 0.08)"},"& .MuiDataGrid-cell":{border:"none"},"& .calendar: active":{color:"red"}}}),kt=Object(Ue.a)({root:{minWidth:"49px"}})(p.a);function Ct(){return Object(a.jsx)(Ee.b,{children:Object(a.jsx)("div",{style:{position:"absolute",top:0,width:"100%"},children:Object(a.jsx)(Le.a,{})})})}var St=Object(b.h)((function(){var e=Object(r.useState)({checkedA:!0,checkedB:!0,checkedC:!0,checkedD:!0}),t=Object(j.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),s=Object(j.a)(o,2),l=s[0],u=s[1],d=Object(r.useState)(null),p=Object(j.a)(d,2),h=p[0],f=p[1],O=Object(r.useState)(null),g=Object(j.a)(O,2),m=g[0],x=g[1],v=Object(r.useState)(!0),y=Object(j.a)(v,2),S=y[0],_=y[1],T=Object(r.useState)(!0),E=Object(j.a)(T,2),D=E[0],A=E[1],L=Object(r.useState)([]),R=Object(j.a)(L,2),U=R[0],B=R[1],M=Object(r.useState)(!1),H=Object(j.a)(M,2),F=H[0],z=H[1],G=Object(r.useState)("Hide daily notes"),W=Object(j.a)(G,2),J=W[0],q=W[1],Y=Object(i.c)((function(e){return e.sidebarIsOpen})),V=Object(r.useContext)(P);Object(r.useEffect)((function(){var e=!1;return function(){var t=Object(w.a)(N.a.mark((function t(){var n,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.getNotes();case 3:return n=t.sent,t.next=6,He(n.DATA);case 6:a=t.sent,e||(x(a),f(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){return e=!0}}),[n,S,D,U,F,J]);var K=function(){var e=Object(w.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),e.next=3,t.forEach((function(e){V.deleteNote(e.data.id)}));case 3:return e.next=5,V.getNotes();case 5:return n=e.sent,e.next=8,x(He(n.DATA));case 8:return e.next=10,f(He(n.DATA));case 10:_(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=[],$=function(e){var t=Object.entries(e),n=[{field:"wordCount",headerName:"WORD COUNT",flex:1.5},{field:"mentions",headerName:"MENTIONS",flex:1.5},{field:"updated",headerName:"UPDATED",flex:2},{field:"created",headerName:"CREATED",flex:2}].filter((function(e,n){return t[n][1]?e:null}));return[{field:"title",headerName:"TITLE",flex:3,sortable:!0,headerClassName:"title",renderCell:function(e){return Object(a.jsx)("strong",{children:e.value})}}].concat(Object(I.a)(n))}(n),X=wt();return Object(a.jsx)(Me.a,{autoHeight:!0,autoHeightMin:500,autoHeightMax:"80vh",style:{width:Y?"calc(100% - 240px)":"100%",marginLeft:Y?"240px":"0"},children:Object(a.jsxs)("div",{className:"all-pages-container",children:[Object(a.jsxs)("div",{className:"service",children:[Object(a.jsxs)("div",{className:"l-group",children:[Object(a.jsx)(ut,{selected:[U,B],deleteRows:K,isVisible:F}),Object(a.jsx)(Nt,{rows:h,className:"btn"})]}),Object(a.jsxs)("div",{className:"r-group",children:[Object(a.jsx)(et,{rowsInfo:[h,f],initialRows:m}),Object(a.jsx)(Re.a,{title:J,arrow:!0,children:Object(a.jsx)(kt,{children:Object(a.jsx)(Ae.a,{className:"btn ".concat(D?"":"calendar"),onClick:function(){var e,t=D;if(t){var n=(e=h)?e.filter((function(e){return e.title===e.created?null:e})):null;f(n),q("Show daily notes")}else f(m),q("Hide daily notes");A(!t)}})})}),Object(a.jsx)(Xe,{state:n,handleChange:function(e){c(Object(C.a)(Object(C.a)({},n),{},Object(k.a)({},e.target.name,e.target.checked)))}})]})]}),Object(a.jsx)("div",{style:{display:"flex",height:"100vh"},children:h&&S?l?Object(a.jsx)(b.a,{to:l}):Object(a.jsx)(Ee.a,{density:"compact",className:X.root,disableColumnMenu:!0,autoHeight:!0,rows:h,columns:$,disableSelectionOnClick:!0,checkboxSelection:!0,onRowClick:function(e){u("/app/note/".concat(e.row.title))},onRowSelected:function(e){if(Q=U,e.isSelected)Q.push(e);else{var t=Q.findIndex((function(t){return t.data.id===e.data.id}));Q.splice(t,1)}B(Q),0!==U.length?z(!0):z(!1)}}):Object(a.jsx)(Ee.a,{density:"compact",className:X.root,disableColumnMenu:!0,autoHeight:!0,rows:[],columns:$,checkboxSelection:!0,components:{loadingOverlay:Ct},loading:!0})})]})})})),Pt=n(770),It=n(154),_t=n.n(It),Tt=(n(348),n(369)),Et=n.n(Tt),Dt=n(764),At=n(717),Lt=n(370),Rt=n.n(Lt),Ut=n(371),Bt=n.n(Ut),Mt=n(372),Ht=n.n(Mt),Ft=n(368),zt=n.n(Ft),Gt=n(710),Wt=n(376),Jt=Object(g.a)((function(){return Object(m.a)({textField:{marginTop:"15px",input:{"&::placeholder":{color:"#bff7ff"}}}})})),qt=Object(Ue.a)((function(){return{root:{"&label.Mui-focused":{color:"orange"},"&.MuiInputBase-input":{color:"orange"}}}}))((function(e){var t=e.userData,n=e.setUserData,c=Jt(),o=Object(r.useContext)(P),s=Object(r.useState)({username:"",email:""}),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)({old_password:"",new_password:"",confirm:""}),b=Object(j.a)(d,2),h=b[0],f=b[1],O=function(e){var t=e.target,n=t.name,a=t.value;u(Object(C.a)(Object(C.a)({},l),{},Object(k.a)({},n,a)))},g=function(e){e.preventDefault();var a=e.currentTarget.name;switch(console.log(a),a){case"username":o.updateUser({name:l.username}),n(Object(C.a)(Object(C.a)({},t),{},{username:l.username})),localStorage.setItem("username",l.username);break;case"email":o.updateUser({email:l.email}),n(Object(C.a)(Object(C.a)({},t),{},{email:l.email})),localStorage.setItem("email",l.email);break;default:if(h.new_password!==h.confirm)throw new Error("check your new passwords");console.log(h);try{o.userUpdatePassword({old_password:h.old_password,new_password:h.new_password})}catch(r){throw new Error("something was wrong. Error: ".concat(r))}}return!0},m=function(e){var t=e.target,n=t.name,a=t.value;f(Object(C.a)(Object(C.a)({},h),{},Object(k.a)({},n,a)))};return Object(a.jsxs)("div",{className:"user-settings",children:[Object(a.jsx)("h2",{className:"user-settings__title",children:"Account details"}),Object(a.jsxs)("form",{name:"username",className:"user-settings-form",onSubmit:g,children:[Object(a.jsx)("span",{children:"Name"}),Object(a.jsx)(S.a,{name:"username",placeholder:t.username,variant:"outlined",onChange:O})]}),Object(a.jsxs)("form",{name:"email",className:"user-settings-form",onSubmit:g,children:[Object(a.jsx)("span",{children:"Email"}),Object(a.jsx)(S.a,{name:"email",placeholder:t.email,variant:"outlined",onChange:O,type:"email"})]}),Object(a.jsx)("h2",{className:"user-settings__title privacy",children:"Privacy"}),Object(a.jsxs)("form",{name:"password",className:"user-settings-form password",onSubmit:g,children:[Object(a.jsx)(S.a,{name:"old_password",onChange:m,classes:{root:c.textField},label:"Enter your current password",required:!0}),Object(a.jsx)(S.a,{name:"new_password",onChange:m,classes:{root:c.textField},label:"Enter your new password",required:!0}),Object(a.jsx)(S.a,{name:"confirm",onChange:m,classes:{root:c.textField},label:"Confirm your new password",required:!0}),Object(a.jsx)(p.a,{className:"button",variant:"contained",type:"submit",children:"Change"})]})]})})),Yt=Object(g.a)((function(){return Object(m.a)({expandIcon:{width:"17px",height:"17px",paddingLeft:"5px"},menu:{zIndex:222222},modalContent:{width:"200px",height:"200px",backgroundColor:"blue",position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)"},modal:{zIndex:2222222}})})),Vt=Object(i.b)(null,{onUserLoggedOut:function(){return localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("auth-token"),{type:M,isLoggedIn:!1}}})((function(e){var t=e.userData,n=e.setUserData,c=e.onUserLoggedOut,o=Yt(),s=Object(r.useState)(null),i=Object(j.a)(s,2),l=i[0],u=i[1],d=Object(r.useState)(!1),p=Object(j.a)(d,2),h=p[0],f=p[1],g=Object(b.g)(),m=function(){u(null)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"graph-navigation",onClick:function(e){u(e.currentTarget)},role:"button",tabIndex:0,children:[Object(a.jsx)("span",{children:null===t||void 0===t?void 0:t.username}),Object(a.jsx)(zt.a,{htmlColor:"#5c7080",viewBox:"0 0 20 20",className:o.expandIcon})]}),h?Object(a.jsx)(O.a,{className:o.modal,open:h,onClose:function(){f(!1),u(null)},disableEnforceFocus:!0,children:Object(a.jsx)(qt,{userData:t,setUserData:n})}):Object(a.jsx)(Gt.a,{open:Boolean(l),anchorEl:l,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsxs)(Wt.a,{id:"menu-list-grow",autoFocus:!1,autoFocusItem:!1,onClick:function(){u(null),f(!0)},variant:"menu",children:[Object(a.jsx)(ze.a,{onClick:m,children:"Edit profile"}),Object(a.jsx)(ze.a,{onClick:function(){c(),g.push("/")},children:"Logout"})]})})]})})),Kt=(n(690),function(){var e=Object(i.c)((function(e){return e.shortcuts}));return console.log(e),Object(a.jsx)("div",{className:"shortcut-container",children:e?e.map((function(e){return Object(a.jsx)(d.b,{to:{pathname:"/app/note/".concat(e)},children:e},e)})):null})}),Qt=Object(g.a)((function(e){return Object(m.a)({link:{color:"#5c7080",textDecoration:"none","&:hover":{textDecoration:"none"}},linkItem:{"&:hover":{backgroundColor:Object(me.b)("#fff",.15)}},divider:{backgroundColor:Object(me.b)("#fff",.15)},toolbar:e.mixins.toolbar,hideButton:{position:"absolute",padding:"4px",width:"28px",height:"28px",top:"15px",left:"195px",borderRadius:"10px",cursor:"pointer","&:hover":{backgroundColor:Object(me.b)("#fff",.15)}},listItemText:{fontWeight:600},listIcon:{minWidth:"44px"},listItemWithoutLink:{cursor:"default",flexDirection:"column",alignItems:"start"},listItemShortcutsTitleContainer:{display:"flex"}})})),$t=function(e){var t=e.userData,n=e.toggleSideBar,r=e.setUserData,c=Qt();return Object(a.jsxs)("div",{children:[Object(a.jsx)(Et.a,{className:c.hideButton,htmlColor:"#5c7080",onClick:n,"aria-controls":"simple-menu","aria-haspopup":"true"}),Object(a.jsx)(Vt,{userData:t,setUserData:r}),Object(a.jsx)("div",{className:c.toolbar}),Object(a.jsxs)(st.a,{className:c.link,children:[Object(a.jsx)(Dt.a,{component:d.b,to:"/app",className:c.link,children:Object(a.jsxs)(it.a,{button:!0,className:c.linkItem,children:[Object(a.jsx)(At.a,{classes:{root:c.listIcon},children:Object(a.jsx)(Rt.a,{htmlColor:"#5c7080"})}),Object(a.jsx)(Ge.a,{primary:"DAILY NOTES",classes:{primary:c.listItemText}})]})}),Object(a.jsx)(Dt.a,{component:d.b,to:"/app/graph",className:c.link,children:Object(a.jsxs)(it.a,{button:!0,className:c.linkItem,children:[Object(a.jsx)(At.a,{classes:{root:c.listIcon},children:Object(a.jsx)(Bt.a,{htmlColor:"#5c7080"})}),Object(a.jsx)(Ge.a,{primary:"GRAPH OVERVIEW",classes:{primary:c.listItemText}})]})}),Object(a.jsx)(Dt.a,{component:d.b,to:"/app/pages",className:c.link,children:Object(a.jsxs)(it.a,{button:!0,className:c.linkItem,children:[Object(a.jsx)(At.a,{classes:{root:c.listIcon},children:Object(a.jsx)(_t.a,{htmlColor:"#5c7080"})}),Object(a.jsx)(Ge.a,{primary:"ALL PAGES",classes:{primary:c.listItemText}})]})}),Object(a.jsx)(f.a,{className:c.divider}),Object(a.jsxs)(it.a,{className:c.listItemWithoutLink,children:[Object(a.jsxs)("div",{className:c.listItemShortcutsTitleContainer,children:[Object(a.jsx)(At.a,{classes:{root:c.listIcon},children:Object(a.jsx)(Ht.a,{htmlColor:"#5c7080"})}),Object(a.jsx)(Ge.a,{primary:"SHORTCUTS",classes:{primary:c.listItemText}})]}),Object(a.jsx)(Kt,{})]})]})]})},Xt=240,Zt=Object(g.a)((function(e){return Object(m.a)({drawer:Object(k.a)({},e.breakpoints.up("sm"),{width:Xt,flexShrink:0}),appBar:Object(k.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Xt,"px)"),marginLeft:Xt}),link:{color:"#5c7080",textDecoration:"none","&:hover":{textDecoration:"none"}},linkItem:{"&:hover":{backgroundColor:Object(me.b)("#fff",.15)}},divider:{backgroundColor:Object(me.b)("#fff",.15)},toolbar:e.mixins.toolbar,drawerPaper:{width:Xt,backgroundColor:"#182026"},showButton:{position:"fixed",padding:"4px",width:"28px",height:"28px",top:"15px",left:"15px",cursor:"pointer",borderRadius:"10px","&:hover":{backgroundColor:Object(me.b)("#565555",.15)}},hideButton:{position:"absolute",padding:"4px",width:"28px",height:"28px",top:"15px",left:"195px",borderRadius:"10px",cursor:"pointer","&:hover":{backgroundColor:Object(me.b)("#fff",.15)}},listItemText:{fontWeight:600},listIcon:{minWidth:"44px"}})})),en=Object(i.b)(null,{getUserData:function(e){return{type:H,payload:e}},onCloseSidebar:function(){return{type:G}},onOpenSidebar:function(){return{type:W}}})((function(e){var t=e.getUserData,n=e.onCloseSidebar,c=e.onOpenSidebar,o=Object(r.useState)(!0),s=Object(j.a)(o,2),l=s[0],u=s[1],d=Object(i.c)((function(e){return e.userData})),b=Object(r.useState)(d),p=Object(j.a)(b,2),h=p[0],f=p[1],O=Object(r.useContext)(P),g=Zt();Object(r.useEffect)((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUser().then((function(e){return e.shortcuts}));case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){l?n():c(),u(!l)};return l?Object(a.jsx)("nav",{className:g.drawer,"aria-label":"mailbox folders",children:Object(a.jsx)(Pt.a,{classes:{paper:g.drawerPaper},variant:"permanent",open:!0,children:Object(a.jsx)($t,{userData:h,toggleSideBar:m,setUserData:f})})}):Object(a.jsx)(_t.a,{onClick:m,htmlColor:"#5c7080",className:g.showButton})})),tn=(n(691),n(373)),nn=n.n(tn),an=n(50),rn=n.n(an),cn=function(e){return e?e.replace(/\[\[/,"").replace(/\]\]/,""):e},on=function(e){return function e(t,n){if(0===t.length)return n;var a=t.search(/\[\[/);if(-1===a)return e("",[].concat(Object(I.a)(n),[{type:"text",content:t}]));var r=t.search(/\]\]/);if(-1===r)return e("",[].concat(Object(I.a)(n),[{type:"text",content:t}]));var c=Object(I.a)(n);return 0!==a&&(c=[].concat(Object(I.a)(n),[{type:"text",content:t.substring(0,a)}])),e(t.substring(r+2),[].concat(Object(I.a)(c),[{type:"link",content:t.substring(a,r+2)}]))}(e,[])},sn=function(e){return 0===e.length?c.a.createElement("span"):e.map((function(e){return"text"===e.type?c.a.createElement("span",{key:rn()()},e.content):c.a.createElement(d.b,{key:rn()(),className:"page-link",to:"/app/note/".concat(cn(e.content))},"[[".concat(cn(e.content),"]]"))}))},ln=n(218),un=n.n(ln),dn=n(765),bn=n(766);n(700);var jn=function(e){var t=e.children,n=e.onClick;return Object(a.jsx)("div",{className:"readonly-wrapper",onClick:n,children:t})},pn=function(e,t){return Object(C.a)({notes:e.notes,body:e.body,currentNote:e.currentNote,focusComponentPath:e.focusComponentPath},t)},hn={addNeighbor:function(e,t){for(var n=t.list,a=t.currentPage,r=t.noteTitle,c=a.pagePath,o=n.length,s=[].concat(Object(I.a)(c.slice(0,-1)),[o]),i={pageId:o,pageLink:"",pagePath:s,content:"",nestedPages:[],textInputHeight:24},l=e,u=0;u<c.length-1;u+=1)l=l[c[u]];return l.push(i),{type:U,body:Object(I.a)(e),title:r,focusComponentPath:Object(k.a)({},r,s)}},becomeChild:function(e,t){for(var n=t.currentPage,a=t.noteTitle,r=n.pagePath,c=e,o=0;o<r.length-1;o+=1)c=c[r[o]];var s=c[r.slice(-1)[0]-1],i=s.nestedPages.length,l=[].concat(Object(I.a)(s.pagePath),["nestedPages",i]),u=Object(C.a)(Object(C.a)({},n),{},{pageId:i,pagePath:l});$(u.pagePath,u.nestedPages),s.nestedPages.push(u),c.splice(n.pageId,1);for(var d=0;d<c.length;d+=1)c[d]=Object(C.a)(Object(C.a)({},c[d]),{},{pageId:d,pagePath:[].concat(Object(I.a)(c[d].pagePath.slice(0,-1)),[d])});return{type:U,body:Object(I.a)(e),title:a,focusComponentPath:Object(k.a)({},a,l)}},removePage:function(e,t){for(var n=t.currentPage,a=t.noteTitle,r=n.pagePath,c=e,o=0;o<r.length-1;o+=1)c=c[r[o]];c.splice(n.pageId,1);for(var s=0;s<c.length;s+=1)c[s]=Object(C.a)(Object(C.a)({},c[s]),{},{pageId:s,pagePath:[].concat(Object(I.a)(c[s].pagePath.slice(0,-1)),[s])});var i=function(e){var t=e.slice(-1)[0];return 0===t?e.slice(0,-2):[].concat(Object(I.a)(e.slice(0,-1)),[t-1])}(r);return{type:U,body:Object(I.a)(e),title:a,focusComponentPath:Object(k.a)({},a,i)}},levelUp:function(e,t){for(var n=t.currentPage,a=t.noteTitle,r=n.pagePath,c=e,o=0;o<r.length-1;o+=1)c=c[r[o]];for(var s=e,i=0;i<r.length-3;i+=1)s=s[r[i]];var l=s.length,u=[].concat(Object(I.a)(n.pagePath.slice(0,-3)),[l]),d=Object(C.a)(Object(C.a)({},n),{},{pageId:l,pagePath:u});$(d.pagePath,d.nestedPages),s.push(d),c.splice(n.pageId,1);for(var b=0;b<c.length;b+=1)c[b]=Object(C.a)(Object(C.a)({},c[b]),{},{pageId:b,pagePath:[].concat(Object(I.a)(c[b].pagePath.slice(0,-1)),[b])});return{type:U,body:Object(I.a)(e),title:a,focusComponentPath:Object(k.a)({},a,u)}},updateContent:function(e,t){var n=t.noteTitle,a=t.pageLinks,r=t.content,c=t.currentNote,o=t.currentPage;if(!a)return{type:"UPDATE_CONTENT",title:n,body:Object(I.a)(e)};var s=new L,i=a.map(function(){var e=Object(w.a)(N.a.mark((function e(t){var a,c,i,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.replace(/\[/gi,"").replace(/\]/gi,""),e.next=3,s.getNoteByTitle(a);case 3:if(c=e.sent,i=c.DATA){e.next=11;break}return i=T(a),e.next=9,s.addNote(i);case 9:l=e.sent,i._id=l;case 11:return i.parents=E(i,n,r,o),e.next=14,s.updateNote(i,i._id);case 14:return e.abrupt("return",{id:i._id,title:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(t){t({type:"UPDATE_CONTENT_REQUESTED"}),s.updateNote(c,c._id).then((function(){return Promise.all(i)})).then((function(a){t({type:"UPDATE_CONTENT_RECEIVED",payload:{pageLinks:a,title:n,body:e}})})).catch((function(e){t({type:"UPDATE_CONTENT_FAILED",payload:e})}))}},addChild:function(e,t){var n=t.currentPage,a=t.noteTitle,r=n.pagePath,c=[].concat(Object(I.a)(r),["nestedPages",0]),o={pageId:0,pageLink:"",pagePath:c,content:"",nestedPages:[],textInputHeight:24};return n.nestedPages.push(o),function(e){for(var t=0;t<e.length-1;t+=1)e[t].pageId=t,e[t].pagePath=[].concat(Object(I.a)(e[t].pagePath.slice(-1)),[t])}(n.nestedPages),$(n.pagePath,n.nestedPages),{type:U,body:Object(I.a)(e),title:a,focusComponentPath:Object(k.a)({},a,c)}},changeFocusElement:function(e,t,n){var a,r=n.currentPage,c=n.list,o=n.noteTitle,s=r.pagePath,i=r.pageId;return a="up"===e?i>0?[].concat(Object(I.a)(s.slice(0,-1)),[i-1]):s.length>1?Object(I.a)(s.slice(0,-2)):Object(I.a)(s):i>=c.length-1?Object(I.a)(s):[].concat(Object(I.a)(s.slice(0,-1)),[i+1]),{type:R,title:o,focusComponentPath:Object(k.a)({},o,a)}},setFocusElement:function(e){var t=e.currentPage,n=e.noteTitle,a=t.pagePath;return{type:R,title:n,focusComponentPath:Object(k.a)({},n,a)}}};var fn=Object(i.b)(pn,hn)((function e(t){var n,c=t.content,o=t.note,s=t.notes,l=t.pagePath,u=t.currentPage,d=t.list,b=t.focusComponentPath,p=t.textInputHeight,h=t.noteTitle,f=null===(n=_(h,s))||void 0===n?void 0:n.body,O=Object(a.jsx)("span",{}),g=Object(r.useState)(c),m=Object(j.a)(g,2),x=m[0],v=m[1],y=Object(r.useState)(0),N=Object(j.a)(y,2),w=N[0],C=N[1],S=Object(r.useState)(!0),P=Object(j.a)(S,2),I=P[0],T=P[1],E=null,D=null;Object(r.useEffect)((function(){E&&0!==w&&(E.selectionStart=w,E.selectionEnd=w)}),[w]);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down";t.changeFocusElement(e,f,{currentPage:u,list:d,noteTitle:h})};u.nestedPages&&u.nestedPages.length>0&&(O=u.nestedPages.map((function(t,n,r){var c=Object(i.b)(pn,hn)(e);return Object(a.jsx)(c,{content:t.content,nestedPages:t.nestedPages,pagePath:t.pagePath,currentPage:t,list:r,note:o,textInputHeight:t.textInputHeight,noteTitle:h},rn.a.generate())})));var L=function(e){for(var n=f,a=0;a<l.length;a+=1)n=n[l[a]];n.content=e,n.textInputHeight=E.clientHeight;var r=e.match(/\[\[(.*?)\]]/g);t.updateContent(f,{noteTitle:h,pageLinks:r,content:e,currentNote:o,currentPage:u})};return D=JSON.stringify(Object(k.a)({},h,u.pagePath))===JSON.stringify(b)?Object(a.jsx)("textarea",{className:"text-input",style:{height:"".concat(p,"px")},ref:function(e){(E=e)&&0===w?(E.focus(),E.selectionStart=E.value.length,E.selectionEnd=E.selectionStart,un()(E)):E&&w>0&&E.focus()},value:x,onBlur:function(e){e.target.value!==c&&L(e.target.value)},onChange:function(e){var t=e.target.value,n=e.nativeEvent.target,a=n.selectionStart,r=n.selectionEnd;if(t&&"["===e.nativeEvent.data){var c=t.split("");c.splice(a,0,"]"),v(c.join("")),C(a)}else v(t),C(r);un()(E)},onKeyDown:function(e){var n=e.target.value;if("Tab"===e.key&&(e.preventDefault(),L(n),0!==u.pageId&&t.becomeChild(f,{currentPage:u,noteTitle:h})),"Enter"===e.key){if(e.preventDefault(),n&&n.length>0||1===u.pagePath.length)return L(n),void t.addNeighbor(f,{currentPage:u,list:d,noteTitle:h});L(""),u.pagePath&&1===u.pagePath.length||t.levelUp(f,{currentPage:u,noteTitle:h})}"Backspace"===e.key&&(u.nestedPages&&u.nestedPages.length>0||x&&x.length>0||1===u.pagePath.length&&0===u.pagePath[0]||t.removePage(f,{currentPage:u,noteTitle:h})),"ArrowUp"===e.key&&(e.preventDefault(),L(n),A("up")),"ArrowDown"===e.key&&(e.preventDefault(),L(n),A())}}):Object(a.jsx)(jn,{onClick:function(){t.setFocusElement({currentPage:u,noteTitle:h})},children:sn(on(x))}),Object(a.jsxs)("div",{className:"page-container",children:[Object(a.jsxs)("div",{className:"current-page__controls",children:[Object(a.jsxs)("span",{className:"open-page__wrapper",children:[Object(a.jsx)("button",{type:"button",className:"nested-pages-button ".concat(u.nestedPages.length>0?"nested-pages-button--show":"nested-pages-button--hidden"),onClick:function(){T(!I)},children:I?Object(a.jsx)(dn.a,{fontSize:"small",htmlColor:"#000"}):Object(a.jsx)(bn.a,{fontSize:"small",htmlColor:"#000"})}),Object(a.jsx)("span",{className:"open-page"})]}),D]}),Object(a.jsx)("div",{className:"nestedPages ".concat(I?"nestedPages--show":"nestedPages--hidden"),children:O})]})})),On=(n(701),function(e){Object(bt.a)(n,e);var t=Object(jt.a)(n);function n(e){var a;Object(D.a)(this,n),(a=t.call(this,e)).service=void 0,a.state=void 0,a.currentNote=void 0,a.service=new L,a.state={isSaving:!1};var r=a.props,c=r.notes,o=r.title;return a.currentNote=_(o,c),e.setCurrentNote(a.currentNote),a}return Object(dt.a)(n,[{key:"getPagesComponents",value:function(){return this.props.body.map(this.renderPage.bind(this))}},{key:"saveNote",value:function(){var e=Object(w.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isSaving:!0}),e.prev=1,e.next=4,this.service.updateNote(t,n);case 4:a=this.props,(0,a.setNotification)({body:"The note was saved",title:"",type:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),te({body:e.t0,title:"",type:"error"});case 11:this.setState({isSaving:!1});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"titleClick",value:function(e){e.preventDefault();var t=this.props,n=t.title;t.history.push("/app/note/".concat(n))}},{key:"renderPage",value:function(e,t,n,r){return Object(a.jsx)(fn,{noteTitle:e,note:this.currentNote,content:t.content,nestedPages:t.nestedPages,pagePath:t.pagePath,currentPage:t,list:r,textInputHeight:t.textInputHeight},rn.a.generate())}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.id,c=this.state.isSaving,o=this.currentNote?this.currentNote.body.map(this.renderPage.bind(this,n)):null;return Object(a.jsxs)("div",{className:"note-container",children:[Object(a.jsx)("h1",{className:"note__title",children:Object(a.jsx)("a",{className:"note__title-link",href:"/",onClick:this.titleClick.bind(this),onKeyDown:this.titleClick.bind(this),children:n})}),Object(a.jsx)("div",{className:"note__pages",children:o}),Object(a.jsx)("div",{className:"save-button-wrapper",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",disabled:c,onClick:function(){return e.saveNote(e.currentNote,r)},children:"Save the note"})})]})}}]),n}(c.a.Component)),gn={setCurrentNote:function(e){return{type:V,note:e}},setNotification:te},mn=Object(b.h)(Object(i.b)((function(e,t){return Object(C.a)(Object(C.a)({},t),{},{notes:e.notes,body:e.body})}),gn)(On)),xn=function(e){return{notes:e.notes,sidebarIsOpen:e.sidebarIsOpen}},vn={addNote:X,toggleLoader:ee},yn=Object(b.h)(Object(i.b)(xn,vn)((function(e){var t=e.notes,n=e.sidebarIsOpen,c=new L,o=nn()().format("MMMM Do, YYYY").toString(),s=!1,l=Object(r.useState)(t.filter((function(e){return e.isDaily}))),u=Object(j.a)(l,2),d=u[0],b=u[1],p=Object(r.useState)(!1),h=Object(j.a)(p,2),f=h[0],O=h[1],g=_(o,t);g||f||(O(!0),e.toggleLoader(!0)),g&&0!==d.findIndex((function(e){return e.title===o}))&&!f&&O(!0),g&&0!==d.findIndex((function(e){return e.title===o}))&&!f&&O(!0),Object(r.useEffect)((function(){f&&function(){var t=Object(w.a)(N.a.mark((function t(){var n,a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=_(o,e.notes)){t.next=17;break}return t.next=4,c.getNoteByTitle(o);case 4:if(!(a=t.sent).DATA){t.next=9;break}n=a.DATA,t.next=15;break;case 9:return(n=T(o)).isDaily=!0,t.next=13,c.addNote(n);case 13:r=t.sent,n._id=r;case 15:e.addNote(n),e.toggleLoader(!1);case 17:b([n]);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[f]);var m=function(){var t=Object(w.a)(N.a.mark((function t(){var n,a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(d&&d.length>0)||s){t.next=8;break}return s=!0,n=d.slice(-1)[0]._id,t.next=5,c.getPreviousDailyNote(n);case 5:a=t.sent,(r=a.DATA)&&(s=!1,e.addNote(r),b([].concat(Object(I.a)(d||[]),[r])));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=null;return d&&(x=d.filter((function(e){return e.isDaily})).map((function(e){var t=Object(i.b)(xn)(mn);return Object(a.jsx)(t,{id:e._id,title:e.title},e._id)}))),Object(a.jsx)(Be.Scrollbars,{autoHeight:!0,autoHeightMin:500,autoHeightMax:"80vh",style:{width:n?"calc(100% - 240px)":"100%",marginLeft:n?"240px":"0"},onScroll:function(e){if(!s){var t=e.srcElement;(t.scrollTop+50)/(t.scrollHeight-t.clientHeight)>1&&m()}},children:Object(a.jsx)("div",{className:"daily-container",children:x||"loading"})})})));n(702);var Nn=function(e){var t=e.link,n=Object(r.useState)(!0),c=Object(j.a)(n,2),o=c[0],s=c[1],i=t.content.map((function(e){return Object(a.jsxs)("div",{className:"parents-list__row",children:[Object(a.jsx)("span",{className:"open-page__wrapper",children:Object(a.jsx)("span",{className:"open-page"})}),sn(on(e.value))]},rn()())}));return Object(a.jsxs)("div",{className:"parents-list__link",children:[Object(a.jsxs)("h4",{className:"parents-list__title",children:[Object(a.jsx)("button",{type:"button",className:"nested-pages-button",onClick:function(){s(!o)},children:o?Object(a.jsx)(dn.a,{fontSize:"small",htmlColor:"#000"}):Object(a.jsx)(bn.a,{fontSize:"small",htmlColor:"#000"})}),Object(a.jsx)(d.b,{className:"page-link",to:"/app/note/".concat(t.pageLink),children:t.pageLink},rn()())]}),Object(a.jsx)("div",{className:"parents-list__children ".concat(o?"parents-list__children--show":"parents-list__children--hidden"),children:i})]})};var wn=function(e){var t=e.note,n=null;return t&&t.parents&&(n=t.parents.map((function(e){return Object(a.jsx)(Nn,{link:e},rn()())}))),Object(a.jsxs)("div",{className:"parents-list",children:[n&&n.length>0?Object(a.jsxs)("h3",{className:"title",children:[n&&n.length||0,"Linked References"]}):"",n]})},kn=function(e){return{notes:e.notes,sidebarIsOpen:e.sidebarIsOpen}},Cn={addNote:X,toggleLoader:ee},Sn=Object(b.h)(Object(i.b)(kn,Cn)((function(e){var t=e.match,n=e.sidebarIsOpen,c=t.params.name,o=new L,s=Object(r.useState)(null),l=Object(j.a)(s,2),u=l[0],d=l[1];u&&u.title!==c&&(e.toggleLoader(!0),d(null)),Object(r.useEffect)((function(){e.toggleLoader(!0),function(){var t=Object(w.a)(N.a.mark((function t(){var n,a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u,u){t.next=17;break}return t.next=4,o.getNoteByTitle(c);case 4:if(!(a=t.sent).DATA){t.next=9;break}n=a.DATA,t.next=14;break;case 9:return n=T(c),t.next=12,o.addNote(n);case 12:r=t.sent,n._id=r;case 14:d(n),e.addNote(n),e.toggleLoader(!1);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[u]);var b=null;if(u){var p=Object(i.b)(kn)(mn);b=Object(a.jsx)(p,{id:u._id,title:u.title},u._id)}return Object(a.jsxs)(Be.Scrollbars,{autoHeight:!0,autoHeightMin:500,autoHeightMax:"80vh",style:{width:n?"calc(100% - 240px)":"100%",marginLeft:n?"240px":"0"},children:[Object(a.jsx)("div",{className:"daily-container",children:b}),Object(a.jsx)("div",{children:Object(a.jsx)(wn,{note:u})})]})}))),Pn=function(){return Object(a.jsx)("div",{children:"Test"})},In=n(53),_n=function(){var e=Object(i.c)((function(e){return e.notification})),t=Object(r.useState)(null),n=Object(j.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(!1),l=Object(j.a)(s,2),u=l[0],d=l[1];e&&!u&&(o(e),d(!0));return Object(r.useEffect)((function(){if(c&&u){var e=c;d(!1),function(e){var t=[e.body,e.title,5e3];switch(e.type){case"info":In.NotificationManager.info.apply(In.NotificationManager,t);break;case"success":In.NotificationManager.success.apply(In.NotificationManager,t);break;case"warning":In.NotificationManager.warning.apply(In.NotificationManager,t);break;case"error":In.NotificationManager.error.apply(In.NotificationManager,t);break;default:In.NotificationManager.error.apply(In.NotificationManager,t)}}(e)}}),[u]),Object(a.jsx)(In.NotificationContainer,{})},Tn=(n(705),function(e){var t=e.match.path,n=Object(i.c)((function(e){return e.rightSidebarIsOpen})),r=Object(i.c)((function(e){return e.isLoading})),c=Object(i.c)((function(e){return e.sidebarIsOpen}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(we,{}),Object(a.jsx)(ke,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:t,component:yn,exact:!0}),Object(a.jsx)(b.b,{path:"".concat(t,"/graph"),component:Te}),Object(a.jsx)(b.b,{path:"".concat(t,"/pages"),component:St}),Object(a.jsx)(b.b,{path:"".concat(t,"/note/:name"),render:function(e){return Object(a.jsx)(Sn,Object(C.a)({},e))},exact:!0}),Object(a.jsx)(b.b,{render:function(){return Object(a.jsx)("h1",{children:"Page not found"})}})]})}),Object(a.jsx)(en,{}),n?Object(a.jsx)(Pn,{}):null,r&&Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)(le.a,{size:100,className:"spinner",style:{marginRight:c?"240px":"0"}})}),Object(a.jsx)(_n,{})]})}),En=n(374),Dn=function(e){var t=e.component,n=Object(En.a)(e,["component"]),r=Object(i.c)((function(e){return e.isLoggedIn}));return console.log("".concat(r,"dsadasww")),Object(a.jsx)(b.b,Object(C.a)(Object(C.a)({},n),{},{render:function(e){return r?Object(a.jsx)(t,Object(C.a)({},e)):Object(a.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))},An=new L;var Ln=function(){var e=Object(i.c)((function(e){return e.isLoggedIn}));return console.log(e),Object(a.jsx)(P.Provider,{value:An,children:Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(d.a,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:"/",children:e?Object(a.jsx)(b.a,{to:"/app"}):Object(a.jsx)(ie,{})}),Object(a.jsx)(Dn,{path:"/app",component:Tn})]})})})})};var Rn=function(e,t){switch(t.type){case R:return Object(C.a)(Object(C.a)({},e),{},{focusComponentPath:t.focusComponentPath});case U:return Object(C.a)(Object(C.a)({},e),{},{body:t.body,focusComponentPath:t.focusComponentPath});case Y:var n=e.notes.findIndex((function(e){return e.title===t.note.title})),a=Object(I.a)(e.notes);return n>-1?a.splice(n,1,t.note):a=[].concat(Object(I.a)(a),[t.note]),Object(C.a)(Object(C.a)({},e),{},{notes:a});case V:return Object(C.a)(Object(C.a)({},e),{},{currentNote:t.note});case B:return Object(C.a)(Object(C.a)({},e),{},{isLoggedIn:!0,userData:t.userData});case M:return Object(C.a)(Object(C.a)({},e),{},{isLoggedIn:t.isLoggedIn});case H:return Object(C.a)(Object(C.a)({},e),{},{shortcuts:t.payload});case F:return Object(C.a)(Object(C.a)({},e),{},{shortcuts:[].concat(Object(I.a)(e.shortcuts),[t.payload])});case z:return Object(C.a)(Object(C.a)({},e),{},{shortcuts:t.payload});case W:return Object(C.a)(Object(C.a)({},e),{},{sidebarIsOpen:!0});case G:return Object(C.a)(Object(C.a)({},e),{},{sidebarIsOpen:!1});case J:case q:return Object(C.a)(Object(C.a)({},e),{},{rightSidebarIsOpen:t.payload});case K:return Object(C.a)(Object(C.a)({},e),{},{isLoading:t.payload});case Q:return Object(C.a)(Object(C.a)({},e),{},{notification:t.payload});default:return e}},Un={isLoggedIn:!!localStorage.getItem("auth-token"),userData:{username:localStorage.getItem("username"),email:localStorage.getItem("email")},currentNote:null,notes:[],body:[],shortcuts:[],sidebarIsOpen:!0,rightSidebarIsOpen:!1,isLoading:!1,notification:null},Bn=Object(l.a)(u.a),Mn=Object(l.d)(Rn,Un,Bn);s.a.render(Object(a.jsx)(i.a,{store:Mn,children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ln,{})})}),document.getElementById("root"))}},[[706,1,2]]]);
//# sourceMappingURL=main.9ac21c73.chunk.js.map